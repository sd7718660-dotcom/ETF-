<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL-Elite Terminal | ETF Investment Platform</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage.js"></script>
    
    <!-- Chart.js for Advanced Charting -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <style>
        /* ============================================================
           COMPREHENSIVE CSS FRAMEWORK FOR SQL-ELITE TERMINAL
           ============================================================
           This CSS file contains extensive styling for the entire
           ETF Investment Platform. Every component is styled with
           attention to detail, animations, and responsive design.
           ============================================================ */

        /* ============================================================
           1. ROOT VARIABLES AND GLOBAL STYLES
           ============================================================ */
        
        :root {
            /* Primary Color Palette */
            --primary-accent: #00ff88;
            --primary-accent-dark: #00cc6a;
            --primary-accent-light: #33ff99;
            
            /* Secondary Color Palette */
            --secondary-gold: #ffd700;
            --secondary-gold-dark: #ccaa00;
            --secondary-gold-light: #ffeb3b;
            
            /* Background Colors */
            --bg-primary: #050505;
            --bg-secondary: #0a0a0a;
            --bg-tertiary: #121212;
            --bg-quaternary: #1a1a1a;
            
            /* Text Colors */
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-tertiary: #808080;
            
            /* Alert Colors */
            --alert-danger: #ff4444;
            --alert-warning: #ffaa00;
            --alert-success: #00ff88;
            --alert-info: #00ccff;
            
            /* Border and Shadow */
            --border-color: #2a2a2a;
            --shadow-light: 0 4px 15px rgba(0, 255, 136, 0.1);
            --shadow-medium: 0 8px 30px rgba(0, 255, 136, 0.15);
            --shadow-heavy: 0 12px 50px rgba(0, 255, 136, 0.2);
            
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-xxl: 48px;
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-full: 50%;
            
            /* Transitions */
            --transition-fast: 0.15s ease-in-out;
            --transition-normal: 0.3s ease-in-out;
            --transition-slow: 0.5s ease-in-out;
            
            /* Z-Index Scale */
            --z-dropdown: 100;
            --z-modal-backdrop: 1000;
            --z-modal: 1001;
            --z-toast: 2000;
            --z-tooltip: 2001;
        }

        /* ============================================================
           2. UNIVERSAL RESET AND BASE STYLES
           ============================================================ */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ============================================================
           3. SCROLLBAR STYLING
           ============================================================ */

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-accent);
            border-radius: var(--radius-full);
            transition: background var(--transition-normal);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-accent-light);
        }

        /* ============================================================
           4. TYPOGRAPHY STYLES
           ============================================================ */

        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--text-primary);
        }

        h1 {
            font-size: 2.5rem;
            letter-spacing: -1px;
        }

        h2 {
            font-size: 2rem;
            letter-spacing: -0.5px;
        }

        h3 {
            font-size: 1.5rem;
        }

        h4 {
            font-size: 1.25rem;
        }

        h5 {
            font-size: 1.1rem;
        }

        h6 {
            font-size: 1rem;
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--text-secondary);
        }

        a {
            color: var(--primary-accent);
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        a:hover {
            color: var(--primary-accent-light);
        }

        /* ============================================================
           5. BUTTON STYLES - COMPREHENSIVE VARIATIONS
           ============================================================ */

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-md) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
        }

        /* Primary Button */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-accent), var(--primary-accent-dark));
            color: var(--bg-primary);
            box-shadow: var(--shadow-light);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-accent-light), var(--primary-accent));
            box-shadow: var(--shadow-medium);
            transform: translateY(-2px);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        /* Secondary Button */
        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary-gold), var(--secondary-gold-dark));
            color: var(--bg-primary);
            box-shadow: var(--shadow-light);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, var(--secondary-gold-light), var(--secondary-gold));
            box-shadow: var(--shadow-medium);
            transform: translateY(-2px);
        }

        /* Outline Button */
        .btn-outline {
            background: transparent;
            color: var(--primary-accent);
            border: 2px solid var(--primary-accent);
        }

        .btn-outline:hover {
            background: rgba(0, 255, 136, 0.1);
            box-shadow: var(--shadow-light);
        }

        /* Ghost Button */
        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .btn-ghost:hover {
            color: var(--primary-accent);
            border-color: var(--primary-accent);
            background: rgba(0, 255, 136, 0.05);
        }

        /* Danger Button */
        .btn-danger {
            background: var(--alert-danger);
            color: white;
        }

        .btn-danger:hover {
            background: #ff6666;
            box-shadow: 0 4px 15px rgba(255, 68, 68, 0.3);
        }

        /* Small Button */
        .btn-sm {
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: 0.875rem;
        }

        /* Large Button */
        .btn-lg {
            padding: var(--spacing-lg) var(--spacing-xl);
            font-size: 1.125rem;
        }

        /* Block Button */
        .btn-block {
            width: 100%;
        }

        /* Disabled Button */
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ============================================================
           6. INPUT AND FORM STYLES
           ============================================================ */

        input, textarea, select {
            width: 100%;
            padding: var(--spacing-md);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-size: 1rem;
            font-family: inherit;
            transition: all var(--transition-normal);
            margin-bottom: var(--spacing-md);
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-accent);
            box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);
            background: var(--bg-quaternary);
        }

        input::placeholder {
            color: var(--text-tertiary);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-error {
            color: var(--alert-danger);
            font-size: 0.875rem;
            margin-top: var(--spacing-sm);
        }

        .form-success {
            color: var(--alert-success);
            font-size: 0.875rem;
            margin-top: var(--spacing-sm);
        }

        /* ============================================================
           7. CARD COMPONENT STYLES
           ============================================================ */

        .card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            background: rgba(18, 18, 18, 0.8);
        }

        .card:hover {
            border-color: var(--primary-accent);
            box-shadow: var(--shadow-medium);
            transform: translateY(-4px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .card-subtitle {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: var(--spacing-sm);
        }

        .card-body {
            margin-bottom: var(--spacing-md);
        }

        .card-footer {
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* ============================================================
           8. LAYOUT STRUCTURE - SIDEBAR AND MAIN CONTENT
           ============================================================ */

        .app-container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            transition: all var(--transition-normal);
            z-index: 500;
        }

        .sidebar-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-accent), var(--secondary-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .sidebar-nav {
            flex: 1;
            padding: var(--spacing-md) 0;
            overflow-y: auto;
        }

        .nav-item {
            padding: var(--spacing-md) var(--spacing-lg);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(0, 255, 136, 0.05);
            color: var(--primary-accent);
            border-left-color: var(--primary-accent);
        }

        .nav-item.active {
            background: rgba(0, 255, 136, 0.1);
            color: var(--primary-accent);
            border-left-color: var(--primary-accent);
            font-weight: 600;
        }

        .nav-icon {
            font-size: 1.25rem;
            width: 24px;
            text-align: center;
        }

        .sidebar-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--border-color);
            text-align: center;
            color: var(--text-tertiary);
            font-size: 0.875rem;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Top Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .header-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
        }

        .profile-btn {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            cursor: pointer;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            transition: all var(--transition-normal);
        }

        .profile-btn:hover {
            background: rgba(0, 255, 136, 0.1);
        }

        .profile-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: linear-gradient(135deg, var(--primary-accent), var(--secondary-gold));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--bg-primary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        /* Content Area */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-lg);
        }

        .page {
            display: none;
            animation: fadeIn var(--transition-normal);
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ============================================================
           9. GRID AND LAYOUT UTILITIES
           ============================================================ */

        .grid {
            display: grid;
            gap: var(--spacing-lg);
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .flex {
            display: flex;
        }

        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .flex-center {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flex-column {
            display: flex;
            flex-direction: column;
        }

        .gap-sm {
            gap: var(--spacing-sm);
        }

        .gap-md {
            gap: var(--spacing-md);
        }

        .gap-lg {
            gap: var(--spacing-lg);
        }

        /* ============================================================
           10. MODAL AND OVERLAY STYLES
           ============================================================ */

        .modal-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            z-index: var(--z-modal-backdrop);
            animation: fadeIn var(--transition-normal);
        }

        .modal-backdrop.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            z-index: var(--z-modal);
            animation: slideUp var(--transition-normal);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color var(--transition-fast);
        }

        .modal-close:hover {
            color: var(--primary-accent);
        }

        .modal-body {
            margin-bottom: var(--spacing-lg);
        }

        .modal-footer {
            display: flex;
            gap: var(--spacing-md);
            justify-content: flex-end;
        }

        /* ============================================================
           11. TOAST NOTIFICATION STYLES
           ============================================================ */

        .toast-container {
            position: fixed;
            top: var(--spacing-lg);
            right: var(--spacing-lg);
            z-index: var(--z-toast);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .toast {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            min-width: 300px;
            animation: slideInRight var(--transition-normal);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .toast.success {
            border-color: var(--alert-success);
            background: rgba(0, 255, 136, 0.1);
        }

        .toast.error {
            border-color: var(--alert-danger);
            background: rgba(255, 68, 68, 0.1);
        }

        .toast.warning {
            border-color: var(--alert-warning);
            background: rgba(255, 170, 0, 0.1);
        }

        .toast.info {
            border-color: var(--alert-info);
            background: rgba(0, 204, 255, 0.1);
        }

        .toast-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .toast-message {
            flex: 1;
        }

        /* ============================================================
           12. TABLE STYLES
           ============================================================ */

        .table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
            overflow: hidden;
        }

        .table thead {
            background: var(--bg-quaternary);
            border-bottom: 1px solid var(--border-color);
        }

        .table th {
            padding: var(--spacing-md) var(--spacing-lg);
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            text-transform: uppercase;
            font-size: 0.875rem;
            letter-spacing: 0.5px;
        }

        .table td {
            padding: var(--spacing-md) var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .table tbody tr:hover {
            background: rgba(0, 255, 136, 0.05);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        /* ============================================================
           13. BADGE AND TAG STYLES
           ============================================================ */

        .badge {
            display: inline-block;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-primary {
            background: rgba(0, 255, 136, 0.2);
            color: var(--primary-accent);
        }

        .badge-success {
            background: rgba(0, 255, 136, 0.2);
            color: var(--alert-success);
        }

        .badge-danger {
            background: rgba(255, 68, 68, 0.2);
            color: var(--alert-danger);
        }

        .badge-warning {
            background: rgba(255, 170, 0, 0.2);
            color: var(--alert-warning);
        }

        .badge-info {
            background: rgba(0, 204, 255, 0.2);
            color: var(--alert-info);
        }

        /* ============================================================
           14. STAT CARD STYLES
           ============================================================ */

        .stat-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
            transition: all var(--transition-normal);
        }

        .stat-card:hover {
            border-color: var(--primary-accent);
            box-shadow: var(--shadow-medium);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-accent);
            margin-bottom: var(--spacing-sm);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ============================================================
           15. CRYPTO MARKET CARD STYLES
           ============================================================ */

        .crypto-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .crypto-card:hover {
            border-color: var(--primary-accent);
            box-shadow: var(--shadow-medium);
            transform: translateY(-4px);
        }

        .crypto-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            flex: 1;
        }

        .crypto-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-full);
            background: linear-gradient(135deg, var(--primary-accent), var(--secondary-gold));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--bg-primary);
            font-size: 1.25rem;
        }

        .crypto-details h4 {
            margin-bottom: var(--spacing-sm);
        }

        .crypto-symbol {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .crypto-price {
            text-align: right;
        }

        .crypto-current {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }

        .crypto-change {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .crypto-change.positive {
            color: var(--alert-success);
        }

        .crypto-change.negative {
            color: var(--alert-danger);
        }

        /* ============================================================
           16. INVESTMENT CARD STYLES
           ============================================================ */

        .investment-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            transition: all var(--transition-normal);
        }

        .investment-card:hover {
            border-color: var(--primary-accent);
            box-shadow: var(--shadow-medium);
            transform: translateY(-4px);
        }

        .investment-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--spacing-md);
        }

        .investment-title {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .investment-roi {
            background: linear-gradient(135deg, var(--primary-accent), var(--secondary-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .investment-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
        }

        .investment-detail-item {
            display: flex;
            flex-direction: column;
        }

        .investment-detail-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .investment-detail-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .investment-description {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-lg);
            line-height: 1.6;
        }

        .investment-actions {
            display: flex;
            gap: var(--spacing-md);
        }

        /* ============================================================
           17. RESPONSIVE DESIGN - MOBILE STYLES
           ============================================================ */

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                flex-direction: row;
                overflow-x: auto;
                overflow-y: hidden;
            }

            .sidebar-header {
                flex-shrink: 0;
            }

            .sidebar-nav {
                display: flex;
                flex-direction: row;
                overflow-x: auto;
                overflow-y: hidden;
                padding: 0;
            }

            .nav-item {
                flex-shrink: 0;
                border-left: none;
                border-bottom: 3px solid transparent;
                padding: var(--spacing-md);
            }

            .nav-item.active {
                border-left: none;
                border-bottom-color: var(--primary-accent);
            }

            .sidebar-footer {
                display: none;
            }

            .main-content {
                height: calc(100vh - 70px);
            }

            .header {
                height: auto;
                flex-direction: column;
                gap: var(--spacing-md);
            }

            .header-title {
                width: 100%;
            }

            .header-actions {
                width: 100%;
                justify-content: space-between;
            }

            .content {
                padding: var(--spacing-md);
            }

            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }

            .modal {
                width: 95%;
                max-width: 100%;
            }

            .toast-container {
                left: var(--spacing-md);
                right: var(--spacing-md);
                top: auto;
                bottom: var(--spacing-lg);
            }

            .toast {
                min-width: unset;
            }

            h1 {
                font-size: 1.75rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.25rem;
            }
        }

        /* ============================================================
           18. LOADING AND SKELETON STYLES
           ============================================================ */

        .skeleton {
            background: linear-gradient(
                90deg,
                var(--bg-tertiary) 25%,
                var(--bg-quaternary) 50%,
                var(--bg-tertiary) 75%
            );
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-accent);
            border-radius: var(--radius-full);
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* ============================================================
           19. UTILITY CLASSES
           ============================================================ */

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .text-left {
            text-align: left;
        }

        .text-primary {
            color: var(--text-primary);
        }

        .text-secondary {
            color: var(--text-secondary);
        }

        .text-success {
            color: var(--alert-success);
        }

        .text-danger {
            color: var(--alert-danger);
        }

        .text-warning {
            color: var(--alert-warning);
        }

        .text-info {
            color: var(--alert-info);
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-lg {
            font-size: 1.125rem;
        }

        .text-bold {
            font-weight: 700;
        }

        .text-muted {
            color: var(--text-tertiary);
        }

        .mt-sm {
            margin-top: var(--spacing-sm);
        }

        .mt-md {
            margin-top: var(--spacing-md);
        }

        .mt-lg {
            margin-top: var(--spacing-lg);
        }

        .mb-sm {
            margin-bottom: var(--spacing-sm);
        }

        .mb-md {
            margin-bottom: var(--spacing-md);
        }

        .mb-lg {
            margin-bottom: var(--spacing-lg);
        }

        .p-sm {
            padding: var(--spacing-sm);
        }

        .p-md {
            padding: var(--spacing-md);
        }

        .p-lg {
            padding: var(--spacing-lg);
        }

        .hidden {
            display: none !important;
        }

        .visible {
            display: block !important;
        }

        .opacity-50 {
            opacity: 0.5;
        }

        .opacity-75 {
            opacity: 0.75;
        }

        .cursor-pointer {
            cursor: pointer;
        }

        .no-wrap {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .allow-select {
            user-select: all;
        }

        /* ============================================================
           20. ADVANCED ANIMATION KEYFRAMES
           ============================================================ */

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(0, 255, 136, 0.3);
            }
            50% {
                box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);
            }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        .bounce {
            animation: bounce 1s ease-in-out infinite;
        }

        .glow {
            animation: glow 2s ease-in-out infinite;
        }

        /* ============================================================
           21. CHART CONTAINER STYLES
           ============================================================ */

        .chart-container {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: var(--spacing-md);
            color: var(--text-primary);
        }

        .chart-wrapper {
            position: relative;
            height: 300px;
            width: 100%;
        }

        /* ============================================================
           22. TRANSACTION LIST STYLES
           ============================================================ */

        .transaction-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
            transition: all var(--transition-normal);
        }

        .transaction-item:hover {
            border-color: var(--primary-accent);
            background: rgba(0, 255, 136, 0.05);
        }

        .transaction-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            flex: 1;
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .transaction-icon.deposit {
            background: rgba(0, 255, 136, 0.2);
            color: var(--alert-success);
        }

        .transaction-icon.withdrawal {
            background: rgba(255, 68, 68, 0.2);
            color: var(--alert-danger);
        }

        .transaction-icon.referral {
            background: rgba(255, 215, 0, 0.2);
            color: var(--secondary-gold);
        }

        .transaction-details h4 {
            margin-bottom: var(--spacing-sm);
        }

        .transaction-date {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .transaction-amount {
            text-align: right;
        }

        .transaction-value {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
        }

        .transaction-value.positive {
            color: var(--alert-success);
        }

        .transaction-value.negative {
            color: var(--alert-danger);
        }

        .transaction-status {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ============================================================
           23. PROFILE STYLES
           ============================================================ */

        .profile-header {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }

        .profile-avatar-large {
            width: 100px;
            height: 100px;
            border-radius: var(--radius-full);
            background: linear-gradient(135deg, var(--primary-accent), var(--secondary-gold));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--bg-primary);
            font-weight: 700;
            font-size: 2rem;
            flex-shrink: 0;
        }

        .profile-info h2 {
            margin-bottom: var(--spacing-sm);
        }

        .profile-email {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-md);
        }

        .profile-stats {
            display: flex;
            gap: var(--spacing-lg);
        }

        .profile-stat {
            display: flex;
            flex-direction: column;
        }

        .profile-stat-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-accent);
        }

        .profile-stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ============================================================
           24. TABS COMPONENT STYLES
           ============================================================ */

        .tabs {
            display: flex;
            gap: var(--spacing-md);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: var(--spacing-lg);
            overflow-x: auto;
        }

        .tab-btn {
            padding: var(--spacing-md) var(--spacing-lg);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            transition: all var(--transition-normal);
            white-space: nowrap;
        }

        .tab-btn:hover {
            color: var(--primary-accent);
        }

        .tab-btn.active {
            color: var(--primary-accent);
            border-bottom-color: var(--primary-accent);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn var(--transition-normal);
        }

        /* ============================================================
           25. DROPDOWN MENU STYLES
           ============================================================ */

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            min-width: 200px;
            box-shadow: var(--shadow-medium);
            z-index: var(--z-dropdown);
            animation: slideUp var(--transition-normal);
        }

        .dropdown-menu.active {
            display: block;
        }

        .dropdown-item {
            padding: var(--spacing-md) var(--spacing-lg);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .dropdown-item:hover {
            background: rgba(0, 255, 136, 0.1);
            color: var(--primary-accent);
        }

        .dropdown-item:first-child {
            border-radius: var(--radius-md) var(--radius-md) 0 0;
        }

        .dropdown-item:last-child {
            border-radius: 0 0 var(--radius-md) var(--radius-md);
        }

        .dropdown-divider {
            height: 1px;
            background: var(--border-color);
            margin: var(--spacing-sm) 0;
        }

        /* ============================================================
           26. ALERT AND MESSAGE STYLES
           ============================================================ */

        .alert {
            padding: var(--spacing-md) var(--spacing-lg);
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
        }

        .alert-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .alert-success {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--alert-success);
            color: var(--alert-success);
        }

        .alert-danger {
            background: rgba(255, 68, 68, 0.1);
            border: 1px solid var(--alert-danger);
            color: var(--alert-danger);
        }

        .alert-warning {
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid var(--alert-warning);
            color: var(--alert-warning);
        }

        .alert-info {
            background: rgba(0, 204, 255, 0.1);
            border: 1px solid var(--alert-info);
            color: var(--alert-info);
        }

        /* ============================================================
           27. PAGINATION STYLES
           ============================================================ */

        .pagination {
            display: flex;
            gap: var(--spacing-sm);
            justify-content: center;
            align-items: center;
            margin-top: var(--spacing-lg);
        }

        .pagination-item {
            width: 40px;
            height: 40px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-normal);
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .pagination-item:hover {
            border-color: var(--primary-accent);
            color: var(--primary-accent);
        }

        .pagination-item.active {
            background: linear-gradient(135deg, var(--primary-accent), var(--primary-accent-dark));
            border-color: var(--primary-accent);
            color: var(--bg-primary);
        }

        .pagination-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ============================================================
           28. PROGRESS BAR STYLES
           ============================================================ */

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-quaternary);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--spacing-md);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-accent), var(--secondary-gold));
            border-radius: var(--radius-full);
            transition: width var(--transition-normal);
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
        }

        /* ============================================================
           29. DIVIDER STYLES
           ============================================================ */

        .divider {
            height: 1px;
            background: var(--border-color);
            margin: var(--spacing-lg) 0;
        }

        .divider-text {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            color: var(--text-secondary);
            margin: var(--spacing-lg) 0;
        }

        .divider-text::before,
        .divider-text::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-color);
        }

        /* ============================================================
           30. EMPTY STATE STYLES
           ============================================================ */

        .empty-state {
            text-align: center;
            padding: var(--spacing-xxl);
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: var(--spacing-lg);
            opacity: 0.5;
        }

        .empty-state-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: var(--spacing-md);
            color: var(--text-primary);
        }

        .empty-state-description {
            margin-bottom: var(--spacing-lg);
            color: var(--text-secondary);
        }

        /* ============================================================
           END OF CSS FRAMEWORK
           ============================================================ */
    </style>
</head>
<body>
    <!-- ============================================================
         HTML STRUCTURE - ETF INVESTMENT PLATFORM
         ============================================================ -->

    <div class="app-container">
        <!-- SIDEBAR NAVIGATION -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo"> SQL-ELITE</div>
            </div>
            
            <div class="sidebar-nav">
                <div class="nav-item active" onclick="switchPage('home')">
                    <span class="nav-icon"></span>
                    <span>Home</span>
                </div>
                <div class="nav-item" onclick="switchPage('opportunity')">
                    <span class="nav-icon"></span>
                    <span>Opportunity</span>
                </div>
                <div class="nav-item" onclick="switchPage('crypto')">
                    <span class="nav-icon"></span>
                    <span>Crypto Market</span>
                </div>
                <div class="nav-item" onclick="switchPage('referral')">
                    <span class="nav-icon"></span>
                    <span>Referral</span>
                </div>
                <div class="nav-item" onclick="switchPage('support')">
                    <span class="nav-icon"></span>
                    <span>Support</span>
                </div>
            </div>
            
            <div class="sidebar-footer">
                 SQL-ELITE 2026
            </div>
        </div>

        <!-- MAIN CONTENT AREA -->
        <div class="main-content">
            <!-- HEADER -->
            <div class="header">
                <div class="header-title" id="pageTitle">Home</div>
                <div class="header-actions">
                    <div class="profile-btn" onclick="toggleProfileMenu()">
                        <div class="profile-avatar" id="profileInitial">U</div>
                        <span id="profileName">User</span>
                    </div>
                    <div class="dropdown">
                        <div class="dropdown-menu" id="profileMenu">
                            <div class="dropdown-item" onclick="switchPage('profile')">
                                 My Profile
                            </div>
                            <div class="dropdown-item" onclick="switchPage('wallet')">
                                 Wallet
                            </div>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-item" onclick="logout()">
                                 Logout
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CONTENT AREA -->
            <div class="content">
                <!-- HOME PAGE -->
                <div class="page active" id="home">
                    <div class="grid grid-2 mb-lg">
                        <div class="stat-card">
                            <div class="stat-value" id="balanceDisplay">0</div>
                            <div class="stat-label">Available Balance</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="profitDisplay">0</div>
                            <div class="stat-label">Total Profit</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="lossDisplay">0</div>
                            <div class="stat-label">Total Loss</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="investedDisplay">0</div>
                            <div class="stat-label">Total Invested</div>
                        </div>
                    </div>

                    <h2 class="mb-lg">Featured Opportunities</h2>
                    <div class="grid grid-2 mb-lg" id="featuredCards">
                        <!-- Featured cards will be loaded here -->
                    </div>

                    <h2 class="mb-lg">Recent Transactions</h2>
                    <div id="recentTransactions">
                        <!-- Recent transactions will be loaded here -->
                    </div>
                </div>

                <!-- OPPORTUNITY PAGE -->
                <div class="page" id="opportunity">
                    <h2 class="mb-lg">Investment Opportunities</h2>
                    <div class="grid grid-3 mb-lg" id="opportunityCards">
                        <!-- Investment opportunity cards will be loaded here -->
                    </div>
                </div>

                <!-- CRYPTO MARKET PAGE -->
                <div class="page" id="crypto">
                    <h2 class="mb-lg">Crypto Market - Top 1000 Coins</h2>
                    
                    <div class="card mb-lg">
                        <div class="flex-between mb-md">
                            <h3>Live Market Data</h3>
                            <span class="text-sm text-secondary">Last Updated: <span id="lastUpdate">--:--:--</span></span>
                        </div>
                        <input type="text" id="cryptoSearch" placeholder="Search coins (Bitcoin, Ethereum, etc.)..." style="margin-bottom: var(--spacing-md);">
                        <div id="cryptoMarket" style="max-height: 600px; overflow-y: auto;">
                            <!-- Crypto coins will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- REFERRAL PAGE -->
                <div class="page" id="referral">
                    <h2 class="mb-lg">Referral Program</h2>
                    
                    <div class="card mb-lg">
                        <div class="card-header">
                            <h3>Your Referral Code</h3>
                        </div>
                        <div class="card-body">
                            <div class="flex-between mb-lg">
                                <div>
                                    <p class="text-secondary mb-md">Share this code with your friends:</p>
                                    <div class="flex gap-md">
                                        <input type="text" id="referralCode" readonly style="flex: 1;">
                                        <button class="btn btn-primary" onclick="copyReferralCode()">Copy</button>
                                        <button class="btn btn-secondary" onclick="shareReferralWhatsApp()">Share on WhatsApp</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-2 mb-lg">
                        <div class="stat-card">
                            <div class="stat-value" id="referralCount">0</div>
                            <div class="stat-label">Total Referrals</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="referralEarnings">0</div>
                            <div class="stat-label">Referral Earnings</div>
                        </div>
                    </div>

                    <h3 class="mb-lg">Referral History</h3>
                    <div id="referralHistory">
                        <!-- Referral history will be loaded here -->
                    </div>
                </div>

                <!-- SUPPORT PAGE -->
                <div class="page" id="support">
                    <h2 class="mb-lg">24/7 Customer Support</h2>
                    
                    <div class="grid grid-2 mb-lg">
                        <div class="card">
                            <div class="card-header">
                                <h3>Support Numbers</h3>
                            </div>
                            <div class="card-body" id="supportNumbers">
                                <!-- Support numbers will be loaded here -->
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3>Fund Safety</h3>
                            </div>
                            <div class="card-body">
                                <p> All funds are securely stored in Firebase</p>
                                <p> 24/7 monitoring and protection</p>
                                <p> Instant withdrawal processing</p>
                                <p> Encrypted transactions</p>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-info">
                        <span class="alert-icon"></span>
                        <div>
                            <strong>Need Help?</strong> Click on any support number above to contact us directly via WhatsApp. We're here to help 24/7!
                        </div>
                    </div>
                </div>

                <!-- PROFILE PAGE -->
                <div class="page" id="profile">
                    <h2 class="mb-lg">My Profile</h2>
                    
                    <div class="profile-header">
                        <div class="profile-avatar-large" id="profileAvatarLarge">U</div>
                        <div>
                            <h2 id="profileFullName">User Name</h2>
                            <p class="profile-email" id="profilePhone">+91 XXXXXXXXXX</p>
                            <div class="profile-stats">
                                <div class="profile-stat">
                                    <div class="profile-stat-value" id="profileBalance">0</div>
                                    <div class="profile-stat-label">Balance</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value" id="profileProfit">0</div>
                                    <div class="profile-stat-label">Profit</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value" id="profileInvested">0</div>
                                    <div class="profile-stat-label">Invested</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tabs mb-lg">
                        <button class="tab-btn active" onclick="switchProfileTab('overview')">Overview</button>
                        <button class="tab-btn" onclick="switchProfileTab('deposits')">Deposits</button>
                        <button class="tab-btn" onclick="switchProfileTab('withdrawals')">Withdrawals</button>
                        <button class="tab-btn" onclick="switchProfileTab('pending')">Pending</button>
                        <button class="tab-btn" onclick="switchProfileTab('settings')">Settings</button>
                    </div>

                    <!-- Overview Tab -->
                    <div class="tab-content active" id="overview-tab">
                        <div class="grid grid-2 mb-lg">
                            <div class="card">
                                <div class="card-header">
                                    <h3>Account Info</h3>
                                </div>
                                <div class="card-body">
                                    <div class="mb-md">
                                        <p class="text-secondary text-sm">Full Name</p>
                                        <p class="text-primary" id="overviewName">--</p>
                                    </div>
                                    <div class="mb-md">
                                        <p class="text-secondary text-sm">Phone Number</p>
                                        <p class="text-primary" id="overviewPhone">--</p>
                                    </div>
                                    <div class="mb-md">
                                        <p class="text-secondary text-sm">Member Since</p>
                                        <p class="text-primary" id="overviewJoined">--</p>
                                    </div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header">
                                    <h3>Account Statistics</h3>
                                </div>
                                <div class="card-body">
                                    <div class="mb-md">
                                        <p class="text-secondary text-sm">Total Transactions</p>
                                        <p class="text-primary text-lg text-bold" id="overviewTransactions">0</p>
                                    </div>
                                    <div class="mb-md">
                                        <p class="text-secondary text-sm">Active Investments</p>
                                        <p class="text-primary text-lg text-bold" id="overviewInvestments">0</p>
                                    </div>
                                    <div class="mb-md">
                                        <p class="text-secondary text-sm">Referral Bonus</p>
                                        <p class="text-primary text-lg text-bold" id="overviewReferralBonus">0</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Deposits Tab -->
                    <div class="tab-content" id="deposits-tab">
                        <div class="card mb-lg">
                            <div class="card-header">
                                <h3>Deposit History</h3>
                                <button class="btn btn-primary btn-sm" onclick="openDepositModal()">+ New Deposit</button>
                            </div>
                            <div class="card-body" id="depositsHistory">
                                <!-- Deposit history will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Withdrawals Tab -->
                    <div class="tab-content" id="withdrawals-tab">
                        <div class="card mb-lg">
                            <div class="card-header">
                                <h3>Withdrawal History</h3>
                                <button class="btn btn-primary btn-sm" onclick="openWithdrawalModal()">+ New Withdrawal</button>
                            </div>
                            <div class="card-body" id="withdrawalsHistory">
                                <!-- Withdrawal history will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Pending Tab -->
                    <div class="tab-content" id="pending-tab">
                        <div class="card mb-lg">
                            <div class="card-header">
                                <h3>Pending Transactions</h3>
                            </div>
                            <div class="card-body" id="pendingTransactions">
                                <!-- Pending transactions will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Settings Tab -->
                    <div class="tab-content" id="settings-tab">
                        <div class="grid grid-2 mb-lg">
                            <div class="card">
                                <div class="card-header">
                                    <h3>Payment Details</h3>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label class="form-label">UPI ID</label>
                                        <input type="text" id="upiInput" placeholder="yourname@upi">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Crypto Wallet Address</label>
                                        <input type="text" id="cryptoInput" placeholder="0x...">
                                    </div>
                                    <button class="btn btn-primary btn-block" onclick="updatePaymentDetails()">Save Payment Details</button>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header">
                                    <h3>Profile Photo</h3>
                                </div>
                                <div class="card-body">
                                    <div class="mb-lg" style="text-align: center;">
                                        <div class="profile-avatar-large" id="photoPreview" style="margin: 0 auto; margin-bottom: var(--spacing-lg);">U</div>
                                    </div>
                                    <input type="file" id="photoUpload" accept="image/*" style="margin-bottom: var(--spacing-md);">
                                    <button class="btn btn-primary btn-block" onclick="uploadProfilePhoto()">Upload Photo</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- WALLET PAGE -->
                <div class="page" id="wallet">
                    <h2 class="mb-lg">My Wallet</h2>
                    
                    <div class="grid grid-2 mb-lg">
                        <div class="stat-card">
                            <div class="stat-value" id="walletBalance">0</div>
                            <div class="stat-label">Available Balance</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="cryptoHoldValue">0</div>
                            <div class="stat-label">Crypto Holdings Value</div>
                        </div>
                    </div>

                    <div class="tabs mb-lg">
                        <button class="tab-btn active" onclick="switchWalletTab('crypto-hold')">Crypto Hold</button>
                        <button class="tab-btn" onclick="switchWalletTab('crypto-etf')">Crypto ETF</button>
                    </div>

                    <!-- Crypto Hold Tab -->
                    <div class="tab-content active" id="crypto-hold-tab">
                        <div id="cryptoHoldList">
                            <!-- Crypto holdings will be loaded here -->
                        </div>
                    </div>

                    <!-- Crypto ETF Tab -->
                    <div class="tab-content" id="crypto-etf-tab">
                        <div id="cryptoETFList">
                            <!-- Crypto ETF holdings will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODALS -->

    <!-- Deposit Modal -->
    <div class="modal-backdrop" id="depositModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Deposit Funds</h2>
                <button class="modal-close" onclick="closeModal('depositModal')"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Select Package</label>
                    <select id="depositPackage" onchange="updateDepositAmount()">
                        <option value="">Choose a package...</option>
                        <option value="500">500</option>
                        <option value="1000">1,000</option>
                        <option value="5000">5,000</option>
                        <option value="10000">10,000</option>
                        <option value="50000">50,000</option>
                        <option value="100000">100,000</option>
                        <option value="custom">Custom Amount</option>
                    </select>
                </div>

                <div class="form-group" id="customAmountGroup" style="display: none;">
                    <label class="form-label">Enter Amount (500 - 100,000)</label>
                    <input type="number" id="customAmount" placeholder="Enter amount" min="500" max="100000">
                </div>

                <div class="form-group">
                    <label class="form-label">Payment Method</label>
                    <div class="tabs" style="border: none;">
                        <button class="tab-btn active" onclick="switchPaymentMethod('upi')">UPI</button>
                        <button class="tab-btn" onclick="switchPaymentMethod('crypto')">Crypto</button>
                    </div>
                </div>

                <!-- UPI Section -->
                <div id="upiSection">
                    <div class="card mb-lg">
                        <p class="text-secondary mb-md">Admin UPI ID:</p>
                        <p class="text-primary text-bold allow-select" id="adminUPI">rizwanhasan90122778623@ybl</p>
                        <button class="btn btn-primary btn-block mt-lg" onclick="openUPIApp()">Pay via UPI</button>
                    </div>
                </div>

                <!-- Crypto Section -->
                <div id="cryptoSection" style="display: none;">
                    <div class="card mb-lg">
                        <div class="mb-lg">
                            <p class="text-secondary mb-md">Bitcoin Address:</p>
                            <p class="text-primary text-bold allow-select" id="adminBTC">1A1z7agoat2LWQLQ1qhkzNVrCgqRfSnHWX</p>
                            <button class="btn btn-sm btn-outline" onclick="copyAddress('adminBTC')">Copy Address</button>
                        </div>
                        <div class="mb-lg">
                            <p class="text-secondary mb-md">Ethereum Address:</p>
                            <p class="text-primary text-bold allow-select" id="adminETH">0x742d35Cc6634C0532925a3b844Bc9e7595f42e0d</p>
                            <button class="btn btn-sm btn-outline" onclick="copyAddress('adminETH')">Copy Address</button>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Transaction Hash / UTR</label>
                    <input type="text" id="txHash" placeholder="Paste your transaction hash or UTR">
                </div>

                <div class="form-group">
                    <label class="form-label">Upload Screenshot</label>
                    <input type="file" id="depositScreenshot" accept="image/*">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal('depositModal')">Cancel</button>
                <button class="btn btn-primary" onclick="submitDeposit()">Submit Deposit</button>
            </div>
        </div>
    </div>

    <!-- Withdrawal Modal -->
    <div class="modal-backdrop" id="withdrawalModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Withdraw Funds</h2>
                <button class="modal-close" onclick="closeModal('withdrawalModal')"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info mb-lg">
                    <span class="alert-icon"></span>
                    <div>Available Balance: <strong id="withdrawalBalance">0</strong></div>
                </div>

                <div class="form-group">
                    <label class="form-label">Withdrawal Amount</label>
                    <input type="number" id="withdrawalAmount" placeholder="Enter amount" min="100">
                </div>

                <div class="form-group">
                    <label class="form-label">Withdrawal Method</label>
                    <select id="withdrawalMethod">
                        <option value="">Select method...</option>
                        <option value="upi">UPI</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="crypto">Crypto Wallet</option>
                    </select>
                </div>

                <div class="form-group" id="upiWithdrawalGroup" style="display: none;">
                    <label class="form-label">UPI ID</label>
                    <input type="text" id="withdrawalUPI" placeholder="yourname@upi">
                </div>

                <div class="form-group" id="bankWithdrawalGroup" style="display: none;">
                    <label class="form-label">Bank Account Number</label>
                    <input type="text" id="withdrawalBank" placeholder="Account number">
                    <label class="form-label mt-lg">IFSC Code</label>
                    <input type="text" id="withdrawalIFSC" placeholder="IFSC code">
                </div>

                <div class="form-group" id="cryptoWithdrawalGroup" style="display: none;">
                    <label class="form-label">Crypto Wallet Address</label>
                    <input type="text" id="withdrawalCrypto" placeholder="0x...">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal('withdrawalModal')">Cancel</button>
                <button class="btn btn-primary" onclick="submitWithdrawal()">Request Withdrawal</button>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div class="modal-backdrop" id="investmentModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="investmentTitle">Invest in Plan</h2>
                <button class="modal-close" onclick="closeModal('investmentModal')"></button>
            </div>
            <div class="modal-body">
                <div class="card mb-lg">
                    <div class="card-body">
                        <p class="text-secondary mb-md">Plan Name</p>
                        <p class="text-primary text-lg text-bold" id="investmentPlanName">--</p>
                    </div>
                </div>

                <div class="grid grid-2 mb-lg">
                    <div class="card">
                        <div class="card-body">
                            <p class="text-secondary text-sm mb-md">ROI</p>
                            <p class="text-primary text-lg text-bold" id="investmentROI">--</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <p class="text-secondary text-sm mb-md">Duration</p>
                            <p class="text-primary text-lg text-bold" id="investmentDuration">--</p>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Investment Amount ()</label>
                    <input type="number" id="investmentAmount" placeholder="Enter amount" min="100">
                </div>

                <div class="alert alert-info mb-lg">
                    <span class="alert-icon"></span>
                    <div>
                        <p>Your Balance: <strong id="investmentBalance">0</strong></p>
                        <p>Projected Return: <strong id="projectedReturn">0</strong></p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal('investmentModal')">Cancel</button>
                <button class="btn btn-primary" onclick="confirmInvestment()">Confirm Investment</button>
            </div>
        </div>
    </div>

    <!-- Crypto Buy Modal -->
    <div class="modal-backdrop" id="cryptoBuyModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Buy <span id="cryptoBuyName">Crypto</span></h2>
                <button class="modal-close" onclick="closeModal('cryptoBuyModal')"></button>
            </div>
            <div class="modal-body">
                <div class="tabs mb-lg">
                    <button class="tab-btn active" onclick="switchCryptoBuyType('direct')">Direct Crypto</button>
                    <button class="tab-btn" onclick="switchCryptoBuyType('etf')">ETF-Backed</button>
                </div>

                <div class="form-group">
                    <label class="form-label">Amount ()</label>
                    <input type="number" id="cryptoBuyAmount" placeholder="Enter amount" min="100">
                </div>

                <div class="card mb-lg">
                    <div class="card-body">
                        <p class="text-secondary mb-md">Current Price</p>
                        <p class="text-primary text-lg text-bold" id="cryptoBuyPrice">--</p>
                        <p class="text-secondary text-sm mt-md">You will receive: <span id="cryptoBuyQuantity">0</span> coins</p>
                    </div>
                </div>

                <div class="alert alert-warning mb-lg">
                    <span class="alert-icon"></span>
                    <div>
                        <strong>Note:</strong> Crypto prices are highly volatile. Please review before confirming.
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal('cryptoBuyModal')">Cancel</button>
                <button class="btn btn-primary" onclick="confirmCryptoBuy()">Confirm Purchase</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- ============================================================
         JAVASCRIPT ENGINE - COMPREHENSIVE APPLICATION LOGIC
         ============================================================ -->

    <script>
        /* ============================================================
           FIREBASE CONFIGURATION AND INITIALIZATION
           ============================================================ */

        const firebaseConfig = {
            apiKey: "AIzaSyBvObxADcAior6R_or9O6UmWsFT8do1GkI",
            authDomain: "sqladmin-ff04d.firebaseapp.com",
            projectId: "sqladmin-ff04d",
            storageBucket: "sqladmin-ff04d.firebasestorage.app",
            messagingSenderId: "539086978850",
            appId: "1:539086978850:web:261e6a0cf3c9a2aa29ef7b"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();

        /* ============================================================
           CLOUDINARY CONFIGURATION
           ============================================================ */

        const cloudinaryConfig = {
            uploadUrl: "https://api.cloudinary.com/v1_1/debp1kjtm/image/upload",
            uploadPreset: "sql_admin",
            folder: "sql_users"
        };

        /* ============================================================
           GLOBAL APPLICATION STATE AND VARIABLES
           ============================================================ */

        let currentUser = null;
        let currentUserData = null;
        let cryptoData = [];
        let selectedCryptoForBuy = null;
        let selectedCryptoBuyType = 'direct';
        let supportNumbers = [];
        let investmentPlans = [];
        let currentInvestmentPlan = null;

        /* ============================================================
           AUTHENTICATION MODULE - LOGIN AND REGISTRATION
           ============================================================ */

        // Check if user is logged in on page load
        window.addEventListener('load', () => {
            auth.onAuthStateChanged(async (user) => {
                if (user) {
                    currentUser = user;
                    await loadUserData();
                    showMainApp();
                } else {
                    showAuthPage();
                }
            });
        });

        // Load user data from Firestore
        async function loadUserData() {
            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                if (userDoc.exists) {
                    currentUserData = userDoc.data();
                    updateUIWithUserData();
                    loadDashboardData();
                } else {
                    // Create new user document
                    await createNewUser();
                }
            } catch (error) {
                console.error('Error loading user data:', error);
                showToast('Error loading user data', 'error');
            }
        }

        // Create new user document
        async function createNewUser() {
            try {
                const userData = {
                    uid: currentUser.uid,
                    email: currentUser.email,
                    name: currentUser.displayName || 'User',
                    phone: currentUser.phoneNumber || '',
                    balance: 0,
                    totalInvested: 0,
                    totalProfit: 0,
                    totalLoss: 0,
                    referralCode: generateReferralCode(),
                    referralCount: 0,
                    referralEarnings: 0,
                    upiId: '',
                    cryptoWallet: '',
                    profilePhoto: '',
                    createdAt: new Date(),
                    updatedAt: new Date()
                };

                await db.collection('users').doc(currentUser.uid).set(userData);
                currentUserData = userData;
                updateUIWithUserData();
            } catch (error) {
                console.error('Error creating user:', error);
            }
        }

        // Update UI with user data
        function updateUIWithUserData() {
            if (!currentUserData) return;

            const initial = currentUserData.name ? currentUserData.name.charAt(0).toUpperCase() : 'U';
            document.getElementById('profileInitial').textContent = initial;
            document.getElementById('profileName').textContent = currentUserData.name || 'User';
            document.getElementById('profileAvatarLarge').textContent = initial;
            document.getElementById('photoPreview').textContent = initial;

            // Update profile information
            document.getElementById('profileFullName').textContent = currentUserData.name || 'User';
            document.getElementById('profilePhone').textContent = currentUserData.phone || 'Not provided';
            document.getElementById('overviewName').textContent = currentUserData.name || '--';
            document.getElementById('overviewPhone').textContent = currentUserData.phone || '--';
            document.getElementById('overviewJoined').textContent = currentUserData.createdAt ? new Date(currentUserData.createdAt.toDate()).toLocaleDateString() : '--';

            // Update referral code
            document.getElementById('referralCode').value = currentUserData.referralCode || '';

            // Load profile photo if exists
            if (currentUserData.profilePhoto) {
                document.getElementById('photoPreview').style.backgroundImage = `url('${currentUserData.profilePhoto}')`;
                document.getElementById('photoPreview').style.backgroundSize = 'cover';
                document.getElementById('photoPreview').textContent = '';
            }

            // Update payment details
            document.getElementById('upiInput').value = currentUserData.upiId || '';
            document.getElementById('cryptoInput').value = currentUserData.cryptoWallet || '';
        }

        // Generate unique referral code
        function generateReferralCode() {
            return 'REF' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }

        // Logout function
        function logout() {
            auth.signOut().then(() => {
                currentUser = null;
                currentUserData = null;
                showAuthPage();
                showToast('Logged out successfully', 'success');
            }).catch((error) => {
                console.error('Logout error:', error);
                showToast('Error logging out', 'error');
            });
        }

        // Show authentication page
        function showAuthPage() {
            document.body.innerHTML = `
                <div class="app-container">
                    <div class="main-content">
                        <div class="content" style="display: flex; align-items: center; justify-content: center;">
                            <div style="max-width: 400px; width: 100%;">
                                <div style="text-align: center; margin-bottom: var(--spacing-xl);">
                                    <h1 style="background: linear-gradient(135deg, var(--primary-accent), var(--secondary-gold)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: var(--spacing-md);">SQL-ELITE Terminal</h1>
                                    <p class="text-secondary">ETF Investment Platform</p>
                                </div>

                                <div id="loginForm" class="card">
                                    <h2 class="text-center mb-lg">Login</h2>
                                    <div class="form-group">
                                        <label class="form-label">Email</label>
                                        <input type="email" id="loginEmail" placeholder="your@email.com">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Password</label>
                                        <input type="password" id="loginPassword" placeholder="Enter password">
                                    </div>
                                    <button class="btn btn-primary btn-block mb-md" onclick="handleLogin()">Login</button>
                                    <p class="text-center text-secondary">Don't have an account? <a href="#" onclick="switchAuthForm('register')">Register here</a></p>
                                </div>

                                <div id="registerForm" class="card hidden">
                                    <h2 class="text-center mb-lg">Create Account</h2>
                                    <div class="form-group">
                                        <label class="form-label">Full Name</label>
                                        <input type="text" id="registerName" placeholder="Your full name">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Phone Number</label>
                                        <input type="tel" id="registerPhone" placeholder="+91 XXXXXXXXXX">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email</label>
                                        <input type="email" id="registerEmail" placeholder="your@email.com">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Password</label>
                                        <input type="password" id="registerPassword" placeholder="Enter password">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Confirm Password</label>
                                        <input type="password" id="registerConfirmPassword" placeholder="Confirm password">
                                    </div>
                                    <button class="btn btn-primary btn-block mb-md" onclick="handleRegister()">Create Account</button>
                                    <p class="text-center text-secondary">Already have an account? <a href="#" onclick="switchAuthForm('login')">Login here</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Switch between login and register forms
        function switchAuthForm(form) {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');

            if (form === 'login') {
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
            } else {
                loginForm.classList.add('hidden');
                registerForm.classList.remove('hidden');
            }
        }

        // Handle login
        async function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                showToast('Please fill in all fields', 'error');
                return;
            }

            try {
                await auth.signInWithEmailAndPassword(email, password);
                showToast('Login successful', 'success');
            } catch (error) {
                console.error('Login error:', error);
                showToast(error.message, 'error');
            }
        }

        // Handle registration
        async function handleRegister() {
            const name = document.getElementById('registerName').value;
            const phone = document.getElementById('registerPhone').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;

            if (!name || !phone || !email || !password || !confirmPassword) {
                showToast('Please fill in all fields', 'error');
                return;
            }

            if (password !== confirmPassword) {
                showToast('Passwords do not match', 'error');
                return;
            }

            if (password.length < 6) {
                showToast('Password must be at least 6 characters', 'error');
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                
                // Update user profile
                await userCredential.user.updateProfile({
                    displayName: name
                });

                // Create user document in Firestore
                const userData = {
                    uid: userCredential.user.uid,
                    email: email,
                    name: name,
                    phone: phone,
                    balance: 0,
                    totalInvested: 0,
                    totalProfit: 0,
                    totalLoss: 0,
                    referralCode: generateReferralCode(),
                    referralCount: 0,
                    referralEarnings: 0,
                    upiId: '',
                    cryptoWallet: '',
                    profilePhoto: '',
                    createdAt: new Date(),
                    updatedAt: new Date()
                };

                await db.collection('users').doc(userCredential.user.uid).set(userData);
                showToast('Account created successfully', 'success');
            } catch (error) {
                console.error('Registration error:', error);
                showToast(error.message, 'error');
            }
        }

        // Show main application
        function showMainApp() {
            // Reload page to show main app
            location.reload();
        }

        /* ============================================================
           PAGE NAVIGATION AND SWITCHING
           ============================================================ */

        function switchPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected page
            const page = document.getElementById(pageName);
            if (page) {
                page.classList.add('active');
            }

            // Add active class to clicked nav item
            event.target.closest('.nav-item').classList.add('active');

            // Update page title
            const titles = {
                'home': 'Home',
                'opportunity': 'Investment Opportunities',
                'crypto': 'Crypto Market',
                'referral': 'Referral Program',
                'support': '24/7 Support',
                'profile': 'My Profile',
                'wallet': 'My Wallet'
            };

            document.getElementById('pageTitle').textContent = titles[pageName] || 'Page';

            // Load page-specific data
            if (pageName === 'crypto') {
                loadCryptoMarket();
            } else if (pageName === 'opportunity') {
                loadOpportunities();
            } else if (pageName === 'referral') {
                loadReferralData();
            } else if (pageName === 'support') {
                loadSupportData();
            }
        }

        /* ============================================================
           DASHBOARD DATA LOADING
           ============================================================ */

        async function loadDashboardData() {
            try {
                // Load user balance and statistics
                updateBalanceDisplay();

                // Load featured cards
                loadFeaturedCards();

                // Load recent transactions
                loadRecentTransactions();

                // Load investment plans
                loadInvestmentPlans();

                // Load support numbers
                loadSupportNumbers();
            } catch (error) {
                console.error('Error loading dashboard data:', error);
            }
        }

        function updateBalanceDisplay() {
            document.getElementById('balanceDisplay').textContent = '' + (currentUserData.balance || 0).toLocaleString();
            document.getElementById('profitDisplay').textContent = '' + (currentUserData.totalProfit || 0).toLocaleString();
            document.getElementById('lossDisplay').textContent = '' + (currentUserData.totalLoss || 0).toLocaleString();
            document.getElementById('investedDisplay').textContent = '' + (currentUserData.totalInvested || 0).toLocaleString();
            document.getElementById('walletBalance').textContent = '' + (currentUserData.balance || 0).toLocaleString();
            document.getElementById('profileBalance').textContent = '' + (currentUserData.balance || 0).toLocaleString();
            document.getElementById('profileProfit').textContent = '' + (currentUserData.totalProfit || 0).toLocaleString();
            document.getElementById('profileInvested').textContent = '' + (currentUserData.totalInvested || 0).toLocaleString();
            document.getElementById('referralEarnings').textContent = '' + (currentUserData.referralEarnings || 0).toLocaleString();
            document.getElementById('referralCount').textContent = currentUserData.referralCount || 0;
        }

        async function loadFeaturedCards() {
            try {
                const snapshot = await db.collection('feed').where('type', '==', 'offer').limit(4).get();
                const container = document.getElementById('featuredCards');
                container.innerHTML = '';

                snapshot.forEach(doc => {
                    const card = doc.data();
                    const cardHTML = `
                        <div class="card">
                            <div class="card-header">
                                <h3>${card.title || 'Featured Offer'}</h3>
                            </div>
                            <div class="card-body">
                                ${card.image ? `<img src="${card.image}" style="width: 100%; border-radius: var(--radius-md); margin-bottom: var(--spacing-md);">` : ''}
                                <p>${card.content || 'Special offer available'}</p>
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-primary" onclick="showToast('Offer details loaded', 'info')">Learn More</button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += cardHTML;
                });

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No featured offers at the moment</p></div>';
                }
            } catch (error) {
                console.error('Error loading featured cards:', error);
            }
        }

        async function loadRecentTransactions() {
            try {
                const snapshot = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .orderBy('timestamp', 'desc')
                    .limit(5)
                    .get();

                const container = document.getElementById('recentTransactions');
                container.innerHTML = '';

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No transactions yet</p></div>';
                    return;
                }

                snapshot.forEach(doc => {
                    const tx = doc.data();
                    const date = tx.timestamp ? new Date(tx.timestamp.toDate()).toLocaleDateString() : '--';
                    const icon = tx.type === 'deposit' ? '' : tx.type === 'withdrawal' ? '' : '';
                    const amountClass = tx.type === 'deposit' || tx.type === 'referral' ? 'positive' : 'negative';

                    const txHTML = `
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <div class="transaction-icon ${tx.type}">${icon}</div>
                                <div class="transaction-details">
                                    <h4>${tx.type === 'deposit' ? 'Deposit' : tx.type === 'withdrawal' ? 'Withdrawal' : 'Referral Bonus'}</h4>
                                    <p class="transaction-date">${date}</p>
                                </div>
                            </div>
                            <div class="transaction-amount">
                                <div class="transaction-value ${amountClass}">
                                    ${tx.type === 'deposit' || tx.type === 'referral' ? '+' : '-'}${tx.amount.toLocaleString()}
                                </div>
                                <div class="transaction-status">
                                    <span class="badge badge-${tx.status === 'completed' ? 'success' : tx.status === 'pending' ? 'warning' : 'danger'}">
                                        ${tx.status.toUpperCase()}
                                    </span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += txHTML;
                });
            } catch (error) {
                console.error('Error loading transactions:', error);
            }
        }

        async function loadInvestmentPlans() {
            try {
                const snapshot = await db.collection('admin_settings').doc('plans').get();
                if (snapshot.exists) {
                    investmentPlans = snapshot.data().plans || [];
                }
            } catch (error) {
                console.error('Error loading investment plans:', error);
            }
        }

        async function loadSupportNumbers() {
            try {
                const snapshot = await db.collection('admin_settings').doc('support').get();
                if (snapshot.exists) {
                    supportNumbers = snapshot.data().numbers || [];
                }
            } catch (error) {
                console.error('Error loading support numbers:', error);
            }
        }

        /* ============================================================
           CRYPTO MARKET MODULE
           ============================================================ */

        async function loadCryptoMarket() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=inr&order=market_cap_desc&per_page=100&page=1&sparkline=false');
                const data = await response.json();
                cryptoData = data;
                renderCryptoMarket(data);
                updateLastUpdate();
            } catch (error) {
                console.error('Error loading crypto data:', error);
                showToast('Error loading crypto data', 'error');
            }
        }

        function renderCryptoMarket(coins) {
            const container = document.getElementById('cryptoMarket');
            container.innerHTML = '';

            coins.forEach((coin, index) => {
                const changePercent = coin.market_cap_change_percentage_24h || 0;
                const changeClass = changePercent >= 0 ? 'positive' : 'negative';
                const changeIcon = changePercent >= 0 ? '' : '';

                const coinHTML = `
                    <div class="crypto-card" onclick="selectCryptoForBuy('${coin.id}', '${coin.name}', ${coin.current_price})">
                        <div class="crypto-info">
                            <div class="crypto-icon">${coin.symbol.toUpperCase().charAt(0)}</div>
                            <div class="crypto-details">
                                <h4>${coin.name}</h4>
                                <p class="crypto-symbol">${coin.symbol.toUpperCase()}  Rank #${coin.market_cap_rank || '--'}</p>
                            </div>
                        </div>
                        <div class="crypto-price">
                            <div class="crypto-current">${coin.current_price ? coin.current_price.toLocaleString('en-IN', {maximumFractionDigits: 2}) : '--'}</div>
                            <div class="crypto-change ${changeClass}">
                                ${changeIcon} ${changePercent.toFixed(2)}%
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += coinHTML;
            });
        }

        function updateLastUpdate() {
            const now = new Date();
            document.getElementById('lastUpdate').textContent = now.toLocaleTimeString();
        }

        function selectCryptoForBuy(coinId, coinName, price) {
            selectedCryptoForBuy = {
                id: coinId,
                name: coinName,
                price: price
            };
            document.getElementById('cryptoBuyName').textContent = coinName;
            document.getElementById('cryptoBuyPrice').textContent = '' + price.toLocaleString('en-IN', {maximumFractionDigits: 2});
            openModal('cryptoBuyModal');
        }

        /* ============================================================
           OPPORTUNITY MODULE
           ============================================================ */

        async function loadOpportunities() {
            try {
                const snapshot = await db.collection('feed').where('type', '==', 'investment').get();
                const container = document.getElementById('opportunityCards');
                container.innerHTML = '';

                snapshot.forEach(doc => {
                    const opp = doc.data();
                    const oppHTML = `
                        <div class="investment-card">
                            <div class="investment-header">
                                <div>
                                    <h3 class="investment-title">${opp.title || 'Investment Plan'}</h3>
                                </div>
                                <div class="investment-roi">${opp.roi || '0'}%</div>
                            </div>
                            ${opp.image ? `<img src="${opp.image}" style="width: 100%; border-radius: var(--radius-md); margin-bottom: var(--spacing-md); height: 200px; object-fit: cover;">` : ''}
                            <div class="investment-details">
                                <div class="investment-detail-item">
                                    <p class="investment-detail-label">Min Investment</p>
                                    <p class="investment-detail-value">${opp.minInvestment || 0}</p>
                                </div>
                                <div class="investment-detail-item">
                                    <p class="investment-detail-label">Duration</p>
                                    <p class="investment-detail-value">${opp.duration || '30 days'}</p>
                                </div>
                            </div>
                            <p class="investment-description">${opp.description || 'High-yield investment opportunity'}</p>
                            <div class="investment-actions">
                                <button class="btn btn-primary btn-block" onclick="openInvestmentModal('${doc.id}', '${opp.title}', ${opp.roi}, '${opp.duration}')">Invest Now</button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += oppHTML;
                });

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No opportunities available at the moment</p></div>';
                }
            } catch (error) {
                console.error('Error loading opportunities:', error);
            }
        }

        function openInvestmentModal(planId, planName, roi, duration) {
            currentInvestmentPlan = { planId, planName, roi, duration };
            document.getElementById('investmentTitle').textContent = `Invest in ${planName}`;
            document.getElementById('investmentPlanName').textContent = planName;
            document.getElementById('investmentROI').textContent = roi + '%';
            document.getElementById('investmentDuration').textContent = duration;
            document.getElementById('investmentBalance').textContent = '' + (currentUserData.balance || 0).toLocaleString();
            openModal('investmentModal');
        }

        function confirmInvestment() {
            const amount = parseFloat(document.getElementById('investmentAmount').value);

            if (!amount || amount <= 0) {
                showToast('Please enter a valid amount', 'error');
                return;
            }

            if (amount > currentUserData.balance) {
                showToast('Insufficient balance', 'error');
                return;
            }

            // Create investment record
            const investment = {
                userId: currentUser.uid,
                planId: currentInvestmentPlan.planId,
                planName: currentInvestmentPlan.planName,
                amount: amount,
                roi: currentInvestmentPlan.roi,
                status: 'active',
                timestamp: new Date()
            };

            db.collection('investments').add(investment).then(() => {
                // Update user balance
                currentUserData.balance -= amount;
                currentUserData.totalInvested += amount;
                db.collection('users').doc(currentUser.uid).update({
                    balance: currentUserData.balance,
                    totalInvested: currentUserData.totalInvested
                });

                updateBalanceDisplay();
                closeModal('investmentModal');
                showToast('Investment confirmed! Your funds are now working for you.', 'success');
            }).catch(error => {
                console.error('Error creating investment:', error);
                showToast('Error creating investment', 'error');
            });
        }

        /* ============================================================
           REFERRAL MODULE
           ============================================================ */

        async function loadReferralData() {
            try {
                const snapshot = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .where('type', '==', 'referral')
                    .orderBy('timestamp', 'desc')
                    .get();

                const container = document.getElementById('referralHistory');
                container.innerHTML = '';

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No referral earnings yet. Share your code to earn!</p></div>';
                    return;
                }

                snapshot.forEach(doc => {
                    const tx = doc.data();
                    const date = tx.timestamp ? new Date(tx.timestamp.toDate()).toLocaleDateString() : '--';

                    const txHTML = `
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <div class="transaction-icon referral"></div>
                                <div class="transaction-details">
                                    <h4>Referral Bonus</h4>
                                    <p class="transaction-date">${date}</p>
                                </div>
                            </div>
                            <div class="transaction-amount">
                                <div class="transaction-value positive">+${tx.amount.toLocaleString()}</div>
                                <div class="transaction-status">
                                    <span class="badge badge-success">COMPLETED</span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += txHTML;
                });
            } catch (error) {
                console.error('Error loading referral data:', error);
            }
        }

        function copyReferralCode() {
            const code = document.getElementById('referralCode').value;
            navigator.clipboard.writeText(code).then(() => {
                showToast('Referral code copied!', 'success');
            });
        }

        function shareReferralWhatsApp() {
            const code = document.getElementById('referralCode').value;
            const message = `Join me on SQL-ELITE Terminal and earn amazing returns! Use my referral code: ${code}`;
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        /* ============================================================
           SUPPORT MODULE
           ============================================================ */

        async function loadSupportData() {
            try {
                const snapshot = await db.collection('admin_settings').doc('support').get();
                if (snapshot.exists) {
                    const supportData = snapshot.data();
                    const numbers = supportData.numbers || [];
                    const container = document.getElementById('supportNumbers');
                    container.innerHTML = '';

                    numbers.forEach(num => {
                        const numHTML = `
                            <div class="mb-lg">
                                <p class="text-secondary text-sm mb-md">${num.label || 'Support'}</p>
                                <a href="https://wa.me/${num.phone.replace(/[^0-9]/g, '')}?text=ETF%20WEBSITE%20se%20aya%20hoon" class="btn btn-primary btn-block" target="_blank">
                                     ${num.phone}
                                </a>
                            </div>
                        `;
                        container.innerHTML += numHTML;
                    });
                }
            } catch (error) {
                console.error('Error loading support data:', error);
            }
        }

        /* ============================================================
           PROFILE AND WALLET MANAGEMENT
           ============================================================ */

        function switchProfileTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('[id$="-tab"]').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            const tab = document.getElementById(tabName + '-tab');
            if (tab) {
                tab.classList.add('active');
            }

            // Add active class to clicked button
            event.target.classList.add('active');

            // Load tab-specific data
            if (tabName === 'deposits') {
                loadDepositHistory();
            } else if (tabName === 'withdrawals') {
                loadWithdrawalHistory();
            } else if (tabName === 'pending') {
                loadPendingTransactions();
            } else if (tabName === 'overview') {
                loadProfileOverview();
            }
        }

        function switchWalletTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('[id$="-tab"]').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            const tab = document.getElementById(tabName + '-tab');
            if (tab) {
                tab.classList.add('active');
            }

            // Add active class to clicked button
            event.target.classList.add('active');
        }

        async function loadDepositHistory() {
            try {
                const snapshot = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .where('type', '==', 'deposit')
                    .orderBy('timestamp', 'desc')
                    .get();

                const container = document.getElementById('depositsHistory');
                container.innerHTML = '';

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No deposits yet</p></div>';
                    return;
                }

                snapshot.forEach(doc => {
                    const tx = doc.data();
                    const date = tx.timestamp ? new Date(tx.timestamp.toDate()).toLocaleDateString() : '--';

                    const txHTML = `
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <div class="transaction-icon deposit"></div>
                                <div class="transaction-details">
                                    <h4>Deposit</h4>
                                    <p class="transaction-date">${date}</p>
                                </div>
                            </div>
                            <div class="transaction-amount">
                                <div class="transaction-value positive">+${tx.amount.toLocaleString()}</div>
                                <div class="transaction-status">
                                    <span class="badge badge-${tx.status === 'completed' ? 'success' : 'warning'}">
                                        ${tx.status.toUpperCase()}
                                    </span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += txHTML;
                });
            } catch (error) {
                console.error('Error loading deposit history:', error);
            }
        }

        async function loadWithdrawalHistory() {
            try {
                const snapshot = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .where('type', '==', 'withdrawal')
                    .orderBy('timestamp', 'desc')
                    .get();

                const container = document.getElementById('withdrawalsHistory');
                container.innerHTML = '';

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No withdrawals yet</p></div>';
                    return;
                }

                snapshot.forEach(doc => {
                    const tx = doc.data();
                    const date = tx.timestamp ? new Date(tx.timestamp.toDate()).toLocaleDateString() : '--';

                    const txHTML = `
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <div class="transaction-icon withdrawal"></div>
                                <div class="transaction-details">
                                    <h4>Withdrawal</h4>
                                    <p class="transaction-date">${date}</p>
                                </div>
                            </div>
                            <div class="transaction-amount">
                                <div class="transaction-value negative">-${tx.amount.toLocaleString()}</div>
                                <div class="transaction-status">
                                    <span class="badge badge-${tx.status === 'completed' ? 'success' : 'warning'}">
                                        ${tx.status.toUpperCase()}
                                    </span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += txHTML;
                });
            } catch (error) {
                console.error('Error loading withdrawal history:', error);
            }
        }

        async function loadPendingTransactions() {
            try {
                const snapshot = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .where('status', '==', 'pending')
                    .orderBy('timestamp', 'desc')
                    .get();

                const container = document.getElementById('pendingTransactions');
                container.innerHTML = '';

                if (snapshot.empty) {
                    container.innerHTML = '<div class="empty-state"><p class="text-secondary">No pending transactions</p></div>';
                    return;
                }

                snapshot.forEach(doc => {
                    const tx = doc.data();
                    const date = tx.timestamp ? new Date(tx.timestamp.toDate()).toLocaleDateString() : '--';
                    const icon = tx.type === 'deposit' ? '' : '';

                    const txHTML = `
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <div class="transaction-icon">${icon}</div>
                                <div class="transaction-details">
                                    <h4>${tx.type === 'deposit' ? 'Deposit' : 'Withdrawal'} - Pending</h4>
                                    <p class="transaction-date">${date}</p>
                                </div>
                            </div>
                            <div class="transaction-amount">
                                <div class="transaction-value">${tx.amount.toLocaleString()}</div>
                                <div class="transaction-status">
                                    <span class="badge badge-warning">PENDING APPROVAL</span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += txHTML;
                });
            } catch (error) {
                console.error('Error loading pending transactions:', error);
            }
        }

        async function loadProfileOverview() {
            try {
                const investmentSnapshot = await db.collection('investments')
                    .where('userId', '==', currentUser.uid)
                    .get();

                const transactionSnapshot = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .get();

                document.getElementById('overviewTransactions').textContent = transactionSnapshot.size;
                document.getElementById('overviewInvestments').textContent = investmentSnapshot.size;
                document.getElementById('overviewReferralBonus').textContent = '' + (currentUserData.referralEarnings || 0).toLocaleString();
            } catch (error) {
                console.error('Error loading profile overview:', error);
            }
        }

        function updatePaymentDetails() {
            const upi = document.getElementById('upiInput').value;
            const crypto = document.getElementById('cryptoInput').value;

            if (!upi && !crypto) {
                showToast('Please enter at least one payment method', 'error');
                return;
            }

            db.collection('users').doc(currentUser.uid).update({
                upiId: upi,
                cryptoWallet: crypto,
                updatedAt: new Date()
            }).then(() => {
                currentUserData.upiId = upi;
                currentUserData.cryptoWallet = crypto;
                showToast('Payment details updated successfully', 'success');
            }).catch(error => {
                console.error('Error updating payment details:', error);
                showToast('Error updating payment details', 'error');
            });
        }

        async function uploadProfilePhoto() {
            const fileInput = document.getElementById('photoUpload');
            const file = fileInput.files[0];

            if (!file) {
                showToast('Please select a file', 'error');
                return;
            }

            try {
                const formData = new FormData();
                formData.append('file', file);
                formData.append('upload_preset', cloudinaryConfig.uploadPreset);
                formData.append('folder', cloudinaryConfig.folder);

                const response = await fetch(cloudinaryConfig.uploadUrl, {
                    method: 'POST',
                    body: formData
                });

                const data = await response.json();

                if (data.secure_url) {
                    await db.collection('users').doc(currentUser.uid).update({
                        profilePhoto: data.secure_url,
                        updatedAt: new Date()
                    });

                    currentUserData.profilePhoto = data.secure_url;
                    document.getElementById('photoPreview').style.backgroundImage = `url('${data.secure_url}')`;
                    document.getElementById('photoPreview').style.backgroundSize = 'cover';
                    document.getElementById('photoPreview').textContent = '';
                    showToast('Profile photo updated successfully', 'success');
                }
            } catch (error) {
                console.error('Error uploading photo:', error);
                showToast('Error uploading photo', 'error');
            }
        }

        /* ============================================================
           DEPOSIT AND WITHDRAWAL FUNCTIONS
           ============================================================ */

        function openDepositModal() {
            document.getElementById('depositPackage').value = '';
            document.getElementById('customAmountGroup').style.display = 'none';
            document.getElementById('txHash').value = '';
            document.getElementById('depositScreenshot').value = '';
            openModal('depositModal');
        }

        function openWithdrawalModal() {
            document.getElementById('withdrawalBalance').textContent = '' + (currentUserData.balance || 0).toLocaleString();
            document.getElementById('withdrawalAmount').value = '';
            document.getElementById('withdrawalMethod').value = '';
            openModal('withdrawalModal');
        }

        function updateDepositAmount() {
            const package = document.getElementById('depositPackage').value;
            const customGroup = document.getElementById('customAmountGroup');

            if (package === 'custom') {
                customGroup.style.display = 'block';
            } else {
                customGroup.style.display = 'none';
            }
        }

        function switchPaymentMethod(method) {
            const upiSection = document.getElementById('upiSection');
            const cryptoSection = document.getElementById('cryptoSection');

            if (method === 'upi') {
                upiSection.style.display = 'block';
                cryptoSection.style.display = 'none';
            } else {
                upiSection.style.display = 'none';
                cryptoSection.style.display = 'block';
            }
        }

        function openUPIApp() {
            const upi = document.getElementById('adminUPI').textContent;
            const upiUrl = `upi://pay?pa=${upi}&pn=SQL-ELITE&tr=deposit`;
            window.location.href = upiUrl;
        }

        function copyAddress(elementId) {
            const address = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(address).then(() => {
                showToast('Address copied!', 'success');
            });
        }

        async function submitDeposit() {
            const package = document.getElementById('depositPackage').value;
            const txHash = document.getElementById('txHash').value;
            const screenshot = document.getElementById('depositScreenshot').files[0];

            let amount = 0;

            if (package === 'custom') {
                amount = parseFloat(document.getElementById('customAmount').value);
                if (!amount || amount < 500 || amount > 100000) {
                    showToast('Amount must be between 500 and 100,000', 'error');
                    return;
                }
            } else if (package) {
                amount = parseFloat(package);
            } else {
                showToast('Please select a package', 'error');
                return;
            }

            if (!txHash) {
                showToast('Please enter transaction hash or UTR', 'error');
                return;
            }

            try {
                let screenshotUrl = '';

                if (screenshot) {
                    const formData = new FormData();
                    formData.append('file', screenshot);
                    formData.append('upload_preset', cloudinaryConfig.uploadPreset);

                    const response = await fetch(cloudinaryConfig.uploadUrl, {
                        method: 'POST',
                        body: formData
                    });

                    const data = await response.json();
                    screenshotUrl = data.secure_url || '';
                }

                const transaction = {
                    userId: currentUser.uid,
                    type: 'deposit',
                    amount: amount,
                    status: 'pending',
                    txHash: txHash,
                    screenshot: screenshotUrl,
                    timestamp: new Date()
                };

                await db.collection('transactions').add(transaction);
                closeModal('depositModal');
                showToast('Deposit submitted! Admin will verify and credit your account.', 'success');
                loadRecentTransactions();
            } catch (error) {
                console.error('Error submitting deposit:', error);
                showToast('Error submitting deposit', 'error');
            }
        }

        function switchWithdrawalMethod(method) {
            document.getElementById('upiWithdrawalGroup').style.display = method === 'upi' ? 'block' : 'none';
            document.getElementById('bankWithdrawalGroup').style.display = method === 'bank' ? 'block' : 'none';
            document.getElementById('cryptoWithdrawalGroup').style.display = method === 'crypto' ? 'block' : 'none';
        }

        document.addEventListener('change', function(e) {
            if (e.target.id === 'withdrawalMethod') {
                switchWithdrawalMethod(e.target.value);
            }
        });

        async function submitWithdrawal() {
            const amount = parseFloat(document.getElementById('withdrawalAmount').value);
            const method = document.getElementById('withdrawalMethod').value;

            if (!amount || amount <= 0) {
                showToast('Please enter a valid amount', 'error');
                return;
            }

            if (amount > currentUserData.balance) {
                showToast('Insufficient balance', 'error');
                return;
            }

            if (!method) {
                showToast('Please select a withdrawal method', 'error');
                return;
            }

            let details = {};

            if (method === 'upi') {
                const upi = document.getElementById('withdrawalUPI').value
