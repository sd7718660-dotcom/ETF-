<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL-Elite Terminal | Professional ETF & Crypto Investment Platform</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        :root {
            --primary: #00ff88;
            --secondary: #ffd700;
            --bg-dark: #050505;
            --bg-card: #121212;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --danger: #ff4444;
            --success: #00ff88;
            --warning: #ffd700;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            overflow: hidden;
        }
        
        body {
            display: flex;
        }
        
        .container {
            display: flex;
            width: 100%;
            height: 100%;
        }
        
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, var(--bg-card) 0%, #0a0a0a 100%);
            border-right: 1px solid #2a2a2a;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid #2a2a2a;
            background: rgba(0, 255, 136, 0.05);
            text-align: center;
        }
        
        .sidebar-logo {
            font-size: 22px;
            font-weight: 900;
            color: var(--primary);
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
            letter-spacing: 3px;
        }
        
        .sidebar-nav {
            flex: 1;
            padding: 20px 0;
            overflow-y: auto;
        }
        
        .nav-item {
            padding: 15px 20px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #b0b0b0;
            font-size: 14px;
            font-weight: 500;
        }
        
        .nav-item:hover {
            background-color: rgba(0, 255, 136, 0.1);
            color: var(--primary);
            border-left-color: var(--primary);
        }
        
        .nav-item.active {
            background-color: rgba(0, 255, 136, 0.15);
            color: var(--primary);
            border-left-color: var(--primary);
            font-weight: 700;
        }
        
        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid #2a2a2a;
            text-align: center;
            font-size: 11px;
            color: #b0b0b0;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .header {
            padding: 20px 30px;
            background: linear-gradient(90deg, rgba(0, 255, 136, 0.05) 0%, rgba(255, 215, 0, 0.05) 100%);
            border-bottom: 1px solid #2a2a2a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header-title {
            font-size: 26px;
            font-weight: 800;
            color: var(--primary);
            letter-spacing: 1px;
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 11px 22px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 700;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, #00cc66 100%);
            color: #000;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 255, 136, 0.5);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary) 0%, #ffb700 100%);
            color: #000;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }
        
        .btn-danger {
            background: var(--danger);
            color: #fff;
            box-shadow: 0 4px 15px rgba(255, 68, 68, 0.3);
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 68, 68, 0.5);
        }
        
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 255, 136, 0.02) 100%);
        }
        
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            background: var(--bg-card);
            border: 1px solid #2a2a2a;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .card:hover {
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.2);
            transform: translateY(-2px);
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 20px;
            letter-spacing: 1px;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #b0b0b0;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #2a2a2a;
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
            background: rgba(0, 255, 136, 0.05);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border: 1px solid #2a2a2a;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .stat-card:hover {
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.15);
        }
        
        .stat-label {
            color: #b0b0b0;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 12px;
            font-weight: 700;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 900;
            color: var(--primary);
            letter-spacing: 1px;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .table thead {
            background: rgba(0, 255, 136, 0.1);
        }
        
        .table th {
            padding: 15px;
            text-align: left;
            color: var(--primary);
            font-weight: 700;
            border-bottom: 2px solid #2a2a2a;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.5px;
        }
        
        .table td {
            padding: 15px;
            border-bottom: 1px solid #2a2a2a;
            font-size: 14px;
        }
        
        .table tr:hover {
            background-color: rgba(0, 255, 136, 0.05);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--bg-card);
            border: 1px solid var(--primary);
            border-radius: 15px;
            padding: 35px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 40px rgba(0, 255, 136, 0.2);
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            font-size: 22px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            letter-spacing: 1px;
        }
        
        .modal-close {
            cursor: pointer;
            font-size: 28px;
            color: #b0b0b0;
            transition: all 0.3s ease;
        }
        
        .modal-close:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 18px 25px;
            z-index: 2000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.3);
            font-weight: 600;
        }
        
        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .profile-section {
            display: flex;
            gap: 25px;
            align-items: center;
            padding: 25px;
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid #2a2a2a;
        }
        
        .profile-avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: #000;
            font-weight: 900;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
        }
        
        .profile-info h2 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 20px;
        }
        
        .profile-info p {
            color: #b0b0b0;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 28px;
            letter-spacing: 1px;
        }
        
        h3 {
            color: var(--secondary);
            margin-bottom: 12px;
            font-size: 18px;
        }
        
        p {
            line-height: 1.6;
        }
        
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #00cc66;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            
            .sidebar-logo {
                font-size: 16px;
            }
            
            .nav-item span:last-child {
                display: none;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .content-area {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">SQL-ELITE</div>
            </div>
            <div class="sidebar-nav">
                <div class="nav-item active" onclick="switchPage('home')">
                    <span>üè†</span><span>Home</span>
                </div>
                <div class="nav-item" onclick="switchPage('opportunities')">
                    <span>üìä</span><span>Opportunities</span>
                </div>
                <div class="nav-item" onclick="switchPage('crypto')">
                    <span>‚Çø</span><span>Crypto</span>
                </div>
                <div class="nav-item" onclick="switchPage('wallet')">
                    <span>üí∞</span><span>Wallet</span>
                </div>
                <div class="nav-item" onclick="switchPage('referral')">
                    <span>ü§ù</span><span>Referral</span>
                </div>
                <div class="nav-item" onclick="switchPage('support')">
                    <span>üìû</span><span>Support</span>
                </div>
                <div class="nav-item" onclick="switchPage('profile')">
                    <span>üë§</span><span>Profile</span>
                </div>
            </div>
            <div class="sidebar-footer">¬© SQL-Elite Terminal 2026</div>
        </div>

        <div class="main-content">
            <div class="header">
                <div class="header-title" id="pageTitle">ETF Investment Platform</div>
                <div class="header-actions">
                    <button class="btn btn-primary" id="loginBtn" onclick="showLoginModal()">Login</button>
                    <button class="btn btn-secondary" id="registerBtn" onclick="showRegisterModal()">Register</button>
                </div>
            </div>

            <div class="content-area">
                <!-- HOME PAGE -->
                <div id="home" class="page active">
                    <h1>Welcome to SQL-Elite Terminal</h1>
                    <p style="color: #b0b0b0; margin-bottom: 30px; font-size: 16px;">Professional ETF and cryptocurrency investment platform with real-time market data and secure transactions</p>
                    
                    <div class="grid">
                        <div class="stat-card">
                            <div class="stat-label">Total Users</div>
                            <div class="stat-value">12,450</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Invested</div>
                            <div class="stat-value">‚Çπ45.2Cr</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Active Investments</div>
                            <div class="stat-value">8,920</div>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-title">Featured Investment Plans</div>
                        <div class="grid">
                            <div class="card">
                                <h3>Starter Plan</h3>
                                <p style="color: #b0b0b0; margin: 15px 0; font-size: 15px;">
                                    <strong>Minimum:</strong> ‚Çπ500<br>
                                    <strong>ROI:</strong> 12% per month<br>
                                    <strong>Duration:</strong> 30 days
                                </p>
                                <button class="btn btn-primary" onclick="showInvestModal()" style="width: 100%; margin-top: 10px;">Invest Now</button>
                            </div>
                            <div class="card">
                                <h3>Pro Plan</h3>
                                <p style="color: #b0b0b0; margin: 15px 0; font-size: 15px;">
                                    <strong>Minimum:</strong> ‚Çπ5,000<br>
                                    <strong>ROI:</strong> 18% per month<br>
                                    <strong>Duration:</strong> 60 days
                                </p>
                                <button class="btn btn-primary" onclick="showInvestModal()" style="width: 100%; margin-top: 10px;">Invest Now</button>
                            </div>
                            <div class="card">
                                <h3>Elite Plan</h3>
                                <p style="color: #b0b0b0; margin: 15px 0; font-size: 15px;">
                                    <strong>Minimum:</strong> ‚Çπ50,000<br>
                                    <strong>ROI:</strong> 24% per month<br>
                                    <strong>Duration:</strong> 90 days
                                </p>
                                <button class="btn btn-primary" onclick="showInvestModal()" style="width: 100%; margin-top: 10px;">Invest Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- OPPORTUNITIES PAGE -->
                <div id="opportunities" class="page">
                    <h1>Investment Opportunities</h1>
                    <p style="color: #b0b0b0; margin-bottom: 25px;">Explore our curated investment opportunities</p>
                    <div id="opportunitiesContainer" class="grid"></div>
                </div>

                <!-- CRYPTO PAGE -->
                <div id="crypto" class="page">
                    <h1>Cryptocurrency Market</h1>
                    <p style="color: #b0b0b0; margin-bottom: 20px;">Real-time cryptocurrency prices and market data</p>
                    <div class="form-group">
                        <input type="text" id="cryptoSearch" placeholder="Search cryptocurrencies (Bitcoin, Ethereum, etc.)..." onkeyup="searchCrypto()">
                    </div>
                    <div id="cryptoContainer" class="grid"></div>
                </div>

                <!-- WALLET PAGE -->
                <div id="wallet" class="page">
                    <h1>My Wallet</h1>
                    <div class="grid">
                        <div class="stat-card">
                            <div class="stat-label">Available Balance</div>
                            <div class="stat-value" id="balanceDisplay">‚Çπ0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Invested</div>
                            <div class="stat-value" id="investedDisplay">‚Çπ0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Profit</div>
                            <div class="stat-value" id="profitDisplay">‚Çπ0</div>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-title">Deposit / Withdraw Funds</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <button class="btn btn-primary" onclick="showDepositModal()" style="width: 100%; padding: 15px; font-size: 15px;">Deposit Funds</button>
                            <button class="btn btn-secondary" onclick="showWithdrawModal()" style="width: 100%; padding: 15px; font-size: 15px;">Withdraw Funds</button>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 20px;">
                        <div class="card-title">Transaction History</div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="transactionHistory">
                                <tr>
                                    <td colspan="4" style="text-align: center; color: #b0b0b0;">No transactions yet. Start by making your first deposit!</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- REFERRAL PAGE -->
                <div id="referral" class="page">
                    <h1>Referral Program</h1>
                    <p style="color: #b0b0b0; margin-bottom: 25px;">Earn rewards by referring friends to SQL-Elite Terminal</p>
                    
                    <div class="card">
                        <div class="card-title">Your Referral Code</div>
                        <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                            <input type="text" id="referralCode" value="REF-LOADING" readonly style="flex: 1;">
                            <button class="btn btn-secondary" onclick="copyReferralCode()" style="padding: 11px 20px;">Copy</button>
                        </div>
                        <button class="btn btn-primary" onclick="shareReferral()" style="width: 100%; padding: 15px; font-size: 15px;">Share on WhatsApp</button>
                    </div>
                    
                    <div class="card" style="margin-top: 20px;">
                        <div class="card-title">Referral Earnings</div>
                        <div class="grid">
                            <div class="stat-card">
                                <div class="stat-label">Total Bonus</div>
                                <div class="stat-value" id="referralBonusDisplay">‚Çπ0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Referrals Count</div>
                                <div class="stat-value" id="referralCountDisplay">0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SUPPORT PAGE -->
                <div id="support" class="page">
                    <h1>24/7 Customer Support</h1>
                    <p style="color: #b0b0b0; margin-bottom: 25px;">We are available round the clock to assist you</p>
                    
                    <div class="card">
                        <div class="card-title">Contact Us Via WhatsApp</div>
                        <p style="color: #b0b0b0; margin-bottom: 20px;">Get instant support from our dedicated team</p>
                        <div class="grid">
                            <button class="btn btn-primary" onclick="contactWhatsApp('+919876543210')" style="width: 100%; padding: 15px; font-size: 15px;">üìû Support Line 1</button>
                            <button class="btn btn-primary" onclick="contactWhatsApp('+919876543211')" style="width: 100%; padding: 15px; font-size: 15px;">üìû Support Line 2</button>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 20px;">
                        <div class="card-title">Fund Safety</div>
                        <p style="color: #b0b0b0; margin-bottom: 15px;">‚úÖ All funds are secure and protected</p>
                        <p style="color: #b0b0b0; margin-bottom: 15px;">‚úÖ 24/7 transaction monitoring</p>
                        <p style="color: #b0b0b0;">‚úÖ SSL encrypted connections</p>
                    </div>
                </div>

                <!-- PROFILE PAGE -->
                <div id="profile" class="page">
                    <h1>My Profile</h1>
                    
                    <div class="profile-section">
                        <div class="profile-avatar" id="profileAvatar">U</div>
                        <div class="profile-info">
                            <h2 id="profileName">User Name</h2>
                            <p id="profileEmail">user@example.com</p>
                            <p id="profilePhone">+91 XXXXXXXXXX</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">Payment Details</div>
                        <div class="form-group">
                            <label>UPI ID</label>
                            <input type="text" id="upiId" placeholder="example@upi">
                        </div>
                        <div class="form-group">
                            <label>Bitcoin Address</label>
                            <input type="text" id="btcAddress" placeholder="1A1z7agoat...">
                        </div>
                        <div class="form-group">
                            <label>Ethereum Address</label>
                            <input type="text" id="ethAddress" placeholder="0x742d35Cc6634C0532925a3b844Bc...">
                        </div>
                        <button class="btn btn-primary" onclick="updatePaymentDetails()" style="width: 100%; padding: 12px; margin-top: 10px;">Save Payment Details</button>
                    </div>
                    
                    <div class="card" style="margin-top: 20px;">
                        <button class="btn btn-danger" onclick="logout()" style="width: 100%; padding: 12px;">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Login to Your Account</span>
                <span class="modal-close" onclick="closeModal('loginModal')">√ó</span>
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="text" id="loginPhone" placeholder="+91 XXXXXXXXXX">
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="loginPassword" placeholder="Enter your password">
            </div>
            <button class="btn btn-primary" onclick="login()" style="width: 100%; padding: 12px; margin-top: 15px; font-size: 15px;">Login</button>
            <p style="text-align: center; margin-top: 20px; color: #b0b0b0; font-size: 14px;">
                Don't have an account? <span onclick="switchModal('loginModal', 'registerModal')" style="color: var(--primary); cursor: pointer; font-weight: 700;">Register Here</span>
            </p>
        </div>
    </div>

    <!-- REGISTER MODAL -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Create New Account</span>
                <span class="modal-close" onclick="closeModal('registerModal')">√ó</span>
            </div>
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="registerName" placeholder="Enter your full name">
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="text" id="registerPhone" placeholder="+91 XXXXXXXXXX">
            </div>
            <div class="form-group">
                <label>Email Address</label>
                <input type="email" id="registerEmail" placeholder="your@email.com">
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="registerPassword" placeholder="Create a strong password">
            </div>
            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" id="registerConfirmPassword" placeholder="Re-enter your password">
            </div>
            <button class="btn btn-primary" onclick="register()" style="width: 100%; padding: 12px; margin-top: 15px; font-size: 15px;">Create Account</button>
            <p style="text-align: center; margin-top: 20px; color: #b0b0b0; font-size: 14px;">
                Already have an account? <span onclick="switchModal('registerModal', 'loginModal')" style="color: var(--primary); cursor: pointer; font-weight: 700;">Login Here</span>
            </p>
        </div>
    </div>

    <!-- INVEST MODAL -->
    <div id="investModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Make Investment</span>
                <span class="modal-close" onclick="closeModal('investModal')">√ó</span>
            </div>
            <div class="form-group">
                <label>Select Investment Plan</label>
                <select id="investPlan">
                    <option value="">Choose a plan...</option>
                    <option value="starter">Starter - ‚Çπ500 (12% ROI)</option>
                    <option value="pro">Pro - ‚Çπ5,000 (18% ROI)</option>
                    <option value="elite">Elite - ‚Çπ50,000 (24% ROI)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Investment Amount (‚Çπ)</label>
                <input type="number" id="investAmount" placeholder="Enter amount">
            </div>
            <button class="btn btn-primary" onclick="submitInvestment()" style="width: 100%; padding: 12px; margin-top: 15px; font-size: 15px;">Confirm Investment</button>
        </div>
    </div>

    <!-- DEPOSIT MODAL -->
    <div id="depositModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Deposit Funds</span>
                <span class="modal-close" onclick="closeModal('depositModal')">√ó</span>
            </div>
            <div class="form-group">
                <label>Deposit Amount (‚Çπ)</label>
                <input type="number" id="depositAmount" placeholder="Minimum ‚Çπ500, Maximum ‚Çπ100,000">
            </div>
            <div class="form-group">
                <label>Payment Method</label>
                <select id="depositMethod">
                    <option value="upi">UPI Transfer</option>
                    <option value="bitcoin">Bitcoin</option>
                    <option value="ethereum">Ethereum</option>
                </select>
            </div>
            <div class="form-group">
                <label>Transaction Hash / UTR Number</label>
                <input type="text" id="depositHash" placeholder="Enter transaction reference">
            </div>
            <button class="btn btn-primary" onclick="submitDeposit()" style="width: 100%; padding: 12px; margin-top: 15px; font-size: 15px;">Submit Deposit</button>
        </div>
    </div>

    <!-- WITHDRAW MODAL -->
    <div id="withdrawModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Withdraw Funds</span>
                <span class="modal-close" onclick="closeModal('withdrawModal')">√ó</span>
            </div>
            <div class="form-group">
                <label>Withdrawal Amount (‚Çπ)</label>
                <input type="number" id="withdrawAmount" placeholder="Enter amount to withdraw">
            </div>
            <div class="form-group">
                <label>Payment Method</label>
                <select id="withdrawMethod">
                    <option value="upi">UPI Transfer</option>
                    <option value="bitcoin">Bitcoin</option>
                    <option value="ethereum">Ethereum</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="submitWithdraw()" style="width: 100%; padding: 12px; margin-top: 15px; font-size: 15px;">Request Withdrawal</button>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBvObxADcAior6R_or9O6UmWsFT8do1GkI",
            authDomain: "sqladmin-ff04d.firebaseapp.com",
            projectId: "sqladmin-ff04d",
            storageBucket: "sqladmin-ff04d.firebasestorage.app",
            messagingSenderId: "539086978850",
            appId: "1:539086978850:web:261e6a0cf3c9a2aa29ef7b"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Global Variables
        let currentUser = null;
        let cryptoData = [];
        let allCryptoData = [];

        // PAGE SWITCHING FUNCTION
        function switchPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageName).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            event.target.closest('.nav-item').classList.add('active');
            
            const titles = {
                'home': 'ETF Investment Platform',
                'opportunities': 'Investment Opportunities',
                'crypto': 'Cryptocurrency Market',
                'wallet': 'My Wallet',
                'referral': 'Referral Program',
                'support': '24/7 Support',
                'profile': 'My Profile'
            };
            document.getElementById('pageTitle').textContent = titles[pageName];
            
            if (pageName === 'crypto') loadCryptoMarket();
            else if (pageName === 'wallet') loadWalletData();
            else if (pageName === 'profile') loadProfileData();
            else if (pageName === 'opportunities') loadOpportunities();
        }

        // MODAL FUNCTIONS
        function showLoginModal() { document.getElementById('loginModal').classList.add('active'); }
        function showRegisterModal() { document.getElementById('registerModal').classList.add('active'); }
        function showInvestModal() { if (!currentUser) { showToast('Please login first'); showLoginModal(); return; } document.getElementById('investModal').classList.add('active'); }
        function showDepositModal() { if (!currentUser) { showToast('Please login first'); showLoginModal(); return; } document.getElementById('depositModal').classList.add('active'); }
        function showWithdrawModal() { if (!currentUser) { showToast('Please login first'); showLoginModal(); return; } document.getElementById('withdrawModal').classList.add('active'); }
        function closeModal(modalId) { document.getElementById(modalId).classList.remove('active'); }
        function switchModal(fromModal, toModal) { closeModal(fromModal); document.getElementById(toModal).classList.add('active'); }

        // REGISTRATION FUNCTION
        async function register() {
            const name = document.getElementById('registerName').value.trim();
            const phone = document.getElementById('registerPhone').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;

            if (!name || !phone || !email || !password || !confirmPassword) {
                showToast('‚ùå Please fill all fields');
                return;
            }
            if (password !== confirmPassword) {
                showToast('‚ùå Passwords do not match');
                return;
            }
            if (password.length < 6) {
                showToast('‚ùå Password must be at least 6 characters');
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;
                const referralCode = 'REF-' + Math.random().toString(36).substr(2, 9).toUpperCase();
                
                await db.collection('users').doc(user.uid).set({
                    name: name,
                    phone: phone,
                    email: email,
                    balance: 0,
                    totalInvested: 0,
                    totalProfit: 0,
                    referralCode: referralCode,
                    referralBonus: 0,
                    referralCount: 0,
                    createdAt: new Date(),
                    upiId: '',
                    bitcoinAddress: '',
                    ethereumAddress: ''
                });
                
                showToast('‚úÖ Registration successful! Please login.');
                closeModal('registerModal');
                document.getElementById('registerName').value = '';
                document.getElementById('registerPhone').value = '';
                document.getElementById('registerEmail').value = '';
                document.getElementById('registerPassword').value = '';
                document.getElementById('registerConfirmPassword').value = '';
                setTimeout(() => showLoginModal(), 500);
            } catch (error) {
                showToast('‚ùå Registration failed: ' + error.message);
            }
        }

        // LOGIN FUNCTION
        async function login() {
            const phone = document.getElementById('loginPhone').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            if (!phone || !password) {
                showToast('‚ùå Please enter phone and password');
                return;
            }

            try {
                const email = phone + '@etf-elite.com';
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                const user = userCredential.user;
                const userDoc = await db.collection('users').doc(user.uid).get();
                
                if (userDoc.exists) {
                    currentUser = { uid: user.uid, ...userDoc.data() };
                    showToast('‚úÖ Login successful!');
                    closeModal('loginModal');
                    document.getElementById('loginPhone').value = '';
                    document.getElementById('loginPassword').value = '';
                    updateUIAfterLogin();
                } else {
                    showToast('‚ùå User data not found');
                }
            } catch (error) {
                showToast('‚ùå Login failed: ' + error.message);
            }
        }

        // LOGOUT FUNCTION
        function logout() {
            auth.signOut().then(() => {
                currentUser = null;
                showToast('‚úÖ Logged out successfully');
                updateUIAfterLogout();
                switchPage('home');
            }).catch(error => {
                showToast('‚ùå Logout failed: ' + error.message);
            });
        }

        // UPDATE UI AFTER LOGIN
        function updateUIAfterLogin() {
            document.getElementById('loginBtn').style.display = 'none';
            document.getElementById('registerBtn').style.display = 'none';
            const profileBtn = document.createElement('button');
            profileBtn.className = 'btn btn-secondary';
            profileBtn.textContent = 'Profile';
            profileBtn.onclick = () => switchPage('profile');
            const logoutBtn = document.createElement('button');
            logoutBtn.className = 'btn btn-danger';
            logoutBtn.textContent = 'Logout';
            logoutBtn.onclick = logout;
            document.querySelector('.header-actions').innerHTML = '';
            document.querySelector('.header-actions').appendChild(profileBtn);
            document.querySelector('.header-actions').appendChild(logoutBtn);
        }

        // UPDATE UI AFTER LOGOUT
        function updateUIAfterLogout() {
            document.getElementById('loginBtn').style.display = 'block';
            document.getElementById('registerBtn').style.display = 'block';
            document.querySelector('.header-actions').innerHTML = '';
            const loginBtn = document.createElement('button');
            loginBtn.className = 'btn btn-primary';
            loginBtn.id = 'loginBtn';
            loginBtn.textContent = 'Login';
            loginBtn.onclick = showLoginModal;
            const registerBtn = document.createElement('button');
            registerBtn.className = 'btn btn-secondary';
            registerBtn.id = 'registerBtn';
            registerBtn.textContent = 'Register';
            registerBtn.onclick = showRegisterModal;
            document.querySelector('.header-actions').appendChild(loginBtn);
            document.querySelector('.header-actions').appendChild(registerBtn);
        }

        // LOAD CRYPTO MARKET
        async function loadCryptoMarket() {
            try {
                const response = await axios.get('https://api.coingecko.com/api/v3/markets?vs_currency=inr&order=market_cap_desc&per_page=100&page=1&sparkline=false');
                allCryptoData = response.data;
                cryptoData = response.data;
                displayCryptoMarket(cryptoData);
            } catch (error) {
                showToast('‚ùå Failed to load crypto data');
                console.error(error);
            }
        }

        // DISPLAY CRYPTO MARKET
        function displayCryptoMarket(coins) {
            const container = document.getElementById('cryptoContainer');
            if (coins.length === 0) {
                container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #b0b0b0;">No cryptocurrencies found</p>';
                return;
            }
            container.innerHTML = coins.map(coin => `
                <div class="card">
                    <h3>${coin.name} (${coin.symbol.toUpperCase()})</h3>
                    <p style="color: #b0b0b0; margin-bottom: 10px; font-size: 14px;">
                        <strong>Price:</strong> ‚Çπ${coin.current_price ? coin.current_price.toLocaleString() : 'N/A'}
                    </p>
                    <p style="color: ${coin.price_change_percentage_24h > 0 ? '#00ff88' : '#ff4444'}; margin-bottom: 15px; font-size: 14px; font-weight: 700;">
                        24h Change: ${coin.price_change_percentage_24h ? coin.price_change_percentage_24h.toFixed(2) : 'N/A'}%
                    </p>
                    <button class="btn btn-primary" onclick="buyCrypto('${coin.id}')" style="width: 100%;">Buy Now</button>
                </div>
            `).join('');
        }

        // SEARCH CRYPTO
        function searchCrypto() {
            const searchTerm = document.getElementById('cryptoSearch').value.toLowerCase();
            const filtered = allCryptoData.filter(coin => 
                coin.name.toLowerCase().includes(searchTerm) || 
                coin.symbol.toLowerCase().includes(searchTerm)
            );
            displayCryptoMarket(filtered);
        }

        // BUY CRYPTO
        function buyCrypto(coinId) {
            if (!currentUser) {
                showToast('‚ùå Please login first');
                showLoginModal();
                return;
            }
            showToast('üöÄ Crypto purchase feature coming soon!');
        }

        // LOAD WALLET DATA
        async function loadWalletData() {
            if (!currentUser) return;
            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                const userData = userDoc.data();
                document.getElementById('balanceDisplay').textContent = '‚Çπ' + (userData.balance || 0).toLocaleString();
                document.getElementById('investedDisplay').textContent = '‚Çπ' + (userData.totalInvested || 0).toLocaleString();
                document.getElementById('profitDisplay').textContent = '‚Çπ' + (userData.totalProfit || 0).toLocaleString();

                const transactions = await db.collection('transactions')
                    .where('userId', '==', currentUser.uid)
                    .orderBy('createdAt', 'desc')
                    .limit(10)
                    .get();
                
                const tbody = document.getElementById('transactionHistory');
                if (transactions.empty) {
                    tbody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #b0b0b0;">No transactions yet. Start by making your first deposit!</td></tr>';
                } else {
                    tbody.innerHTML = transactions.docs.map(doc => {
                        const data = doc.data();
                        const date = data.createdAt ? new Date(data.createdAt.toDate()).toLocaleDateString() : 'N/A';
                        const statusColor = data.status === 'completed' ? '#00ff88' : data.status === 'pending' ? '#ffd700' : '#ff4444';
                        return `<tr><td>${date}</td><td>${data.type || 'N/A'}</td><td>‚Çπ${(data.amount || 0).toLocaleString()}</td><td style="color: ${statusColor}; font-weight: 700;">${data.status || 'N/A'}</td></tr>`;
                    }).join('');
                }
            } catch (error) {
                showToast('‚ùå Failed to load wallet data');
                console.error(error);
            }
        }

        // SUBMIT DEPOSIT
        async function submitDeposit() {
            if (!currentUser) return;
            const amount = parseInt(document.getElementById('depositAmount').value);
            const method = document.getElementById('depositMethod').value;
            const hash = document.getElementById('depositHash').value.trim();
            
            if (!amount || amount < 500 || amount > 100000) {
                showToast('‚ùå Amount must be between ‚Çπ500 and ‚Çπ100,000');
                return;
            }
            if (!hash) {
                showToast('‚ùå Please enter transaction hash/UTR');
                return;
            }
            
            try {
                await db.collection('transactions').add({
                    userId: currentUser.uid,
                    type: 'deposit',
                    amount: amount,
                    paymentMethod: method,
                    transactionHash: hash,
                    status: 'pending',
                    createdAt: new Date()
                });
                showToast('‚úÖ Deposit request submitted! Awaiting approval.');
                closeModal('depositModal');
                document.getElementById('depositAmount').value = '';
                document.getElementById('depositHash').value = '';
                loadWalletData();
            } catch (error) {
                showToast('‚ùå Failed to submit deposit');
                console.error(error);
            }
        }

        // SUBMIT WITHDRAWAL
        async function submitWithdraw() {
            if (!currentUser) return;
            const amount = parseInt(document.getElementById('withdrawAmount').value);
            const method = document.getElementById('withdrawMethod').value;
            
            if (!amount || amount <= 0) {
                showToast('‚ùå Please enter a valid amount');
                return;
            }
            
            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                const userData = userDoc.data();
                if (userData.balance < amount) {
                    showToast('‚ùå Insufficient balance');
                    return;
                }
                
                await db.collection('transactions').add({
                    userId: currentUser.uid,
                    type: 'withdrawal',
                    amount: amount,
                    paymentMethod: method,
                    status: 'pending',
                    createdAt: new Date()
                });
                showToast('‚úÖ Withdrawal request submitted! Awaiting approval.');
                closeModal('withdrawModal');
                document.getElementById('withdrawAmount').value = '';
                loadWalletData();
            } catch (error) {
                showToast('‚ùå Failed to submit withdrawal');
                console.error(error);
            }
        }

        // LOAD PROFILE DATA
        async function loadProfileData() {
            if (!currentUser) return;
            document.getElementById('profileName').textContent = currentUser.name || 'User';
            document.getElementById('profileEmail').textContent = currentUser.email || 'N/A';
            document.getElementById('profilePhone').textContent = currentUser.phone || 'N/A';
            document.getElementById('profileAvatar').textContent = (currentUser.name || 'U').charAt(0).toUpperCase();
            document.getElementById('upiId').value = currentUser.upiId || '';
            document.getElementById('btcAddress').value = currentUser.bitcoinAddress || '';
            document.getElementById('ethAddress').value = currentUser.ethereumAddress || '';
            document.getElementById('referralCode').value = currentUser.referralCode || 'N/A';
            document.getElementById('referralBonusDisplay').textContent = '‚Çπ' + (currentUser.referralBonus || 0).toLocaleString();
            document.getElementById('referralCountDisplay').textContent = (currentUser.referralCount || 0).toString();
        }

        // UPDATE PAYMENT DETAILS
        async function updatePaymentDetails() {
            if (!currentUser) return;
            const upiId = document.getElementById('upiId').value.trim();
            const btcAddress = document.getElementById('btcAddress').value.trim();
            const ethAddress = document.getElementById('ethAddress').value.trim();
            
            try {
                await db.collection('users').doc(currentUser.uid).update({
                    upiId: upiId,
                    bitcoinAddress: btcAddress,
                    ethereumAddress: ethAddress
                });
                currentUser.upiId = upiId;
                currentUser.bitcoinAddress = btcAddress;
                currentUser.ethereumAddress = ethAddress;
                showToast('‚úÖ Payment details updated successfully!');
            } catch (error) {
                showToast('‚ùå Failed to update payment details');
                console.error(error);
            }
        }

        // COPY REFERRAL CODE
        function copyReferralCode() {
            const code = document.getElementById('referralCode').value;
            navigator.clipboard.writeText(code).then(() => {
                showToast('‚úÖ Referral code copied to clipboard!');
            }).catch(() => {
                showToast('‚ùå Failed to copy code');
            });
        }

        // SHARE REFERRAL
        function shareReferral() {
            const code = document.getElementById('referralCode').value;
            const message = `üöÄ Join SQL-Elite Terminal using my referral code: ${code}\n\nEarn amazing returns on your investments!\n\nJoin now: https://sql-elite.com`;
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // CONTACT WHATSAPP
        function contactWhatsApp(number) {
            const message = 'Hi, I need support with my SQL-Elite Terminal account. Please assist me.';
            const whatsappUrl = `https://wa.me/${number.replace(/[^0-9]/g, '')}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // SUBMIT INVESTMENT
        async function submitInvestment() {
            if (!currentUser) return;
            const plan = document.getElementById('investPlan').value;
            const amount = parseInt(document.getElementById('investAmount').value);
            
            if (!plan || !amount) {
                showToast('‚ùå Please select a plan and enter amount');
                return;
            }
            
            const minAmounts = { starter: 500, pro: 5000, elite: 50000 };
            if (amount < minAmounts[plan]) {
                showToast(`‚ùå Minimum amount for ${plan} plan is ‚Çπ${minAmounts[plan]}`);
                return;
            }
            
            try {
                await db.collection('investments').add({
                    userId: currentUser.uid,
                    plan: plan,
                    amount: amount,
                    status: 'active',
                    createdAt: new Date(),
                    expectedReturn: amount * (plan === 'starter' ? 0.12 : plan === 'pro' ? 0.18 : 0.24)
                });
                showToast('‚úÖ Investment created successfully!');
                closeModal('investModal');
                document.getElementById('investPlan').value = '';
                document.getElementById('investAmount').value = '';
            } catch (error) {
                showToast('‚ùå Failed to create investment');
                console.error(error);
            }
        }

        // LOAD OPPORTUNITIES
        async function loadOpportunities() {
            try {
                const opportunities = [
                    { name: 'Tech Stocks ETF', return: '15%', risk: 'Medium', minInvest: '‚Çπ1000' },
                    { name: 'Gold ETF', return: '8%', risk: 'Low', minInvest: '‚Çπ500' },
                    { name: 'Crypto Index Fund', return: '25%', risk: 'High', minInvest: '‚Çπ5000' },
                    { name: 'Real Estate Fund', return: '12%', risk: 'Medium', minInvest: '‚Çπ2000' },
                    { name: 'Dividend Stocks', return: '10%', risk: 'Low', minInvest: '‚Çπ1000' },
                    { name: 'Emerging Markets', return: '20%', risk: 'High', minInvest: '‚Çπ3000' }
                ];
                
                const container = document.getElementById('opportunitiesContainer');
                container.innerHTML = opportunities.map(opp => `
                    <div class="card">
                        <h3>${opp.name}</h3>
                        <p style="color: #b0b0b0; margin: 10px 0; font-size: 14px;">
                            <strong>Expected Return:</strong> ${opp.return}<br>
                            <strong>Risk Level:</strong> ${opp.risk}<br>
                            <strong>Minimum Investment:</strong> ${opp.minInvest}
                        </p>
                        <button class="btn btn-primary" onclick="showInvestModal()" style="width: 100%; margin-top: 10px;">Invest Now</button>
                    </div>
                `).join('');
            } catch (error) {
                showToast('‚ùå Failed to load opportunities');
            }
        }

        // SHOW TOAST
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // INITIALIZE APP
        window.addEventListener('load', () => {
            auth.onAuthStateChanged(user => {
                if (user) {
                    db.collection('users').doc(user.uid).get().then(doc => {
                        if (doc.exists) {
                            currentUser = { uid: user.uid, ...doc.data() };
                            updateUIAfterLogin();
                        }
                    }).catch(error => {
                        console.error('Error loading user:', error);
                    });
                } else {
                    updateUIAfterLogout();
                }
            });
        });
    </script>
</body>
</html>
